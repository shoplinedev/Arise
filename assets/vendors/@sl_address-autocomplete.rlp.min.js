!function(){"use strict";function e(e,t,n,r){return new(n||(n=Promise))(function(o,i){function u(e){try{a(r.next(e))}catch(e){i(e)}}function l(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(u,l)}a((r=r.apply(e,t||[])).next())})}var t,n,r,o,i,u,l,a,c,d,s,f,p,v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},y={},h={},m={},b=v&&v.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function u(e){try{a(r.next(e))}catch(e){i(e)}}function l(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(u,l)}a((r=r.apply(e,t||[])).next())})},g=v&&v.__generator||function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}};Object.defineProperty(m,"__esModule",{value:!0});var _=new Promise(function(e){});m.default={zombie:_,resolvable:function(){var e,t=!1;return[new Promise(function(n){t?n():e=n}),function(){t=!0,"function"==typeof e&&e()}]},resolveAfterEventBubbled:function(e,t){return b(this,void 0,void 0,function(){return g(this,function(n){return[2,new Promise(function(n){var r=function(o){e.removeEventListener(t,r),n(o)};e.addEventListener(t,r)})]})})},resolveAfterSeconds:function(e){return b(this,void 0,void 0,function(){return g(this,function(t){return e<=0?[2,Promise.resolve()]:[2,new Promise(function(t){setTimeout(function(){t()},1e3*e)})]})})},resolveAfterDuration:function(e){return b(this,void 0,void 0,function(){return g(this,function(t){return e<=0?[2,Promise.resolve()]:[2,new Promise(function(t){setTimeout(function(){t()},e)})]})})}};var w={};Object.defineProperty(w,"__esModule",{value:!0});var P=function(){function e(e){this.v=e}return Object.defineProperty(e.prototype,"timestamp",{get:function(){return this.v},enumerable:!1,configurable:!0}),e.prototype.add=function(t){return new e(this.v+t)},e.prototype.sub=function(t){return new e(this.v-t)},e.prototype.duration=function(e){return this.v-e.timestamp},e}();function x(e){return new P(e)}function C(){return x(Date.now())}w.default={time:x,now:C,later:function(e){return C().add(e)},former:function(e){return C().sub(e)},Millisecond:1,Second:1e3,Minute:6e4,Hour:36e5,Day:864e5,Week:6048e5};var E={};Object.defineProperty(E,"__esModule",{value:!0}),E.default={errCanceled:"context done with cancellation",errTimeout:"context done with timeout",errDeadline:"context done with deadline",errNotNullableValuer:"valuer is not nullable"};var S=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(h,"__esModule",{value:!0});var O=S(m),T=S(w),j=S(E);function D(){return{deadline:function(){return null},done:function(){return O.default.zombie},err:function(){return null},value:function(e){return e?e.defaultGetter():null}}}function L(e){return e||(e=N),{deadline:function(){return e.deadline()},done:function(){return e.done()},err:function(){return e.err()},value:function(t){return e.value(t)}}}function M(e){var t=O.default.resolvable(),n=t[0],r=t[1],o=null;return[{deadline:function(){return e.deadline()},done:function(){return Promise.race([e.done().then(function(){return e.err()}),n.then(function(){return Error(j.default.errCanceled)})]).then(function(e){o=e})},err:function(){return o},value:function(t){return e.value(t)}},r]}h.default={background:function(){return L(N)},todo:function(){return L(A)},withValue:function(e,t,n){return{deadline:function(){return e.deadline()},done:function(){return e.done()},err:function(){return e.err()},value:function(r){return t===r?n:e.value(r)}}},withCancel:function(e){return M(e)},withTimeout:function(e,t){var n,r,o;return M((r=T.default.later(t),o=O.default.resolveAfterDuration(t),{deadline:function(){return r},done:function(){return Promise.race([e.done().then(function(){return e.err()}),o.then(function(){return Error(j.default.errTimeout)})]).then(function(e){n=e})},err:function(){return n},value:function(t){return e.value(t)}}))},withDeadline:function(e,t){var n,r;return M((n=null,r=O.default.resolveAfterDuration(t.duration(T.default.now())),{deadline:function(){return t},done:function(){return Promise.race([e.done().then(function(){return e.err()}),r.then(function(){return Error(j.default.errDeadline)})]).then(function(e){n=e})},err:function(){return n},value:function(t){return e.value(t)}}))}};var N=D(),A=D(),k={},I=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(k,"__esModule",{value:!0});var V=I(E);function q(e){return Object.defineProperty({},"defaultGetter",{value:e,writable:!1,configurable:!1})}k.default={newValuer:function(e){return q(void 0===e?function(){throw Error(V.default.errNotNullableValuer)}:function(){return e})},newValuerWithGetter:function(e){return"function"!=typeof e&&(e=function(){throw Error(V.default.errNotNullableValuer)}),q(e)}},t=v&&v.__assign||function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n=v&&v.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),r=v&&v.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=v&&v.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Object.defineProperty(y,"__esModule",{value:!0}),i=o(h),u=o(E),l=o(k),r(h,y),r(k,y),y.default=t(t(t({},u.default),i.default),l.default);var F=y&&y.__esModule&&Object.prototype.hasOwnProperty.call(y,"default")?y.default:y;let B=F.newValuer("US"),G=F.newValuerWithGetter(function(){return{queryPlaceDetail(t,n){return e(this,void 0,void 0,function*(){return console.log("noopAutocompleteService queryPlaceDetail",{placeId:n}),{ctx:t,payload:{type:"NOT_EXISTED",placeId:n},provider:""}})},queryPlacePredictions(t,n,r){return e(this,void 0,void 0,function*(){return console.log("noopAutocompleteService queryPlacePredictions",{countryCode:n,query:r}),{ctx:t,payload:[],provider:""}})}}});function W(){return{placePredicted(){},placeSelected(){}}}let H=F.newValuerWithGetter(W);var z=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},U="object"==typeof v&&v&&v.Object===Object&&v,R="object"==typeof self&&self&&self.Object===Object&&self,X=U||R||Function("return this")(),$=/\s/,K=function(e){for(var t=e.length;t--&&$.test(e.charAt(t)););return t},Z=/^\s+/,J=X.Symbol,Y=Object.prototype,Q=Y.hasOwnProperty,ee=Y.toString,et=J?J.toStringTag:void 0,en=Object.prototype.toString,er=function(e){var t=Q.call(e,et),n=e[et];try{e[et]=void 0;var r=!0}catch(e){}var o=ee.call(e);return r&&(t?e[et]=n:delete e[et]),o},eo=J?J.toStringTag:void 0,ei=function(e){var t;return"symbol"==typeof e||null!=e&&"object"==typeof e&&"[object Symbol]"==(null==(t=e)?void 0===t?"[object Undefined]":"[object Null]":eo&&eo in Object(t)?er(t):en.call(t))},eu=0/0,el=/^[-+]0x[0-9a-f]+$/i,ea=/^0b[01]+$/i,ec=/^0o[0-7]+$/i,ed=parseInt,es=function(){return X.Date.now()},ef=function(e){if("number"==typeof e)return e;if(ei(e))return eu;if(z(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=z(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=(t=e)?t.slice(0,K(t)+1).replace(Z,""):t;var r=ea.test(e);return r||ec.test(e)?ed(e.slice(2),r?2:8):el.test(e)?eu:+e},ep=Math.max,ev=Math.min,ey=function(e,t,n){var r,o,i,u,l,a,c=0,d=!1,s=!1,f=!0;if("function"!=typeof e)throw TypeError("Expected a function");function p(t){var n=r,i=o;return r=o=void 0,c=t,u=e.apply(i,n)}function v(e){var n=e-a,r=e-c;return void 0===a||n>=t||n<0||s&&r>=i}function y(){var e,n,r,o=es();if(v(o))return h(o);l=setTimeout(y,(e=o-a,n=o-c,r=t-e,s?ev(r,i-n):r))}function h(e){return(l=void 0,f&&r)?p(e):(r=o=void 0,u)}function m(){var e,n=es(),i=v(n);if(r=arguments,o=this,a=n,i){if(void 0===l)return c=e=a,l=setTimeout(y,t),d?p(e):u;if(s)return clearTimeout(l),l=setTimeout(y,t),p(a)}return void 0===l&&(l=setTimeout(y,t)),u}return t=ef(t)||0,z(n)&&(d=!!n.leading,i=(s="maxWait"in n)?ep(ef(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),m.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=a=o=l=void 0},m.flush=function(){return void 0===l?u:h(es())},m};let eh=F.newValuerWithGetter(()=>({mount(e){console.log("noop Renderer mount",e)},unmount(){console.log("noop Renderer unmount")}})),em=F.newValuerWithGetter(()=>({debounceMS:400,queryLengthThreshold:2}));function eb(e){return e.value(em)}(a=s||(s={})).Country="country",a.Province="province",a.City="city",a.District="district",a.Name="name",a.FirstName="firstName",a.LastName="lastName",a.Mobile="mobile",a.Postcode="postcode",a.Company="company",a.Address="address",a.Address2="address2",(c=f||(f={}))[c.NAME=1]="NAME",c[c.FLName=2]="FLName",(d=p||(p={}))[d.Select=1]="Select",d[d.Input=2]="Input";let eg=new Set(["CN","TW","MY","ID","SG","VN","PH","TH"]),e_={US:{country:s.Country,administrative_area_level_1:s.Province,locality:s.City,postal_code:s.Postcode},DE:{country:s.Country,locality:s.City,postal_code:s.Postcode},GB:{country:s.Country,administrative_area_level_1:s.Province,administrative_area_level_2:s.City,postal_code:s.Postcode},IT:{country:s.Country,administrative_area_level_2:s.Province,locality:s.City,postal_code:s.Postcode},CA:{country:s.Country,administrative_area_level_1:s.Province,locality:s.City,postal_code:s.Postcode},AU:{country:s.Country,administrative_area_level_1:s.Province,locality:s.City,postal_code:s.Postcode},FR:{country:s.Country,administrative_area_level_2:s.Province,locality:s.City,postal_code:s.Postcode},NZ:{country:s.Country,administrative_area_level_1:s.Province,locality:s.City,sublocality_level_1:s.District,postal_code:s.Postcode}},ew={country:s.Country,administrative_area_level_1:s.Province,locality:s.City,postal_code:s.Postcode},eP=new Set(["street_number","route"]),ex=F.newValuer("US");function eC(e,t){return[e,t].filter(e=>null!=e).join(".")}let eE="shopline",eS="cache";function eO(e){return"boolean"==typeof e.success||(e.success="SUCCESS"===e.code),e}function eT(e){return Array.from(e).length}function ej(e){if("function"==typeof queueMicrotask){queueMicrotask(e);return}Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}('.address-autocomplete__parent {\n  position: relative;\n}\n\n.address-autocomplete {\n  position: absolute;\n  width: 100%;\n  top: 100%;\n  z-index: 100;\n  background-color: #fff;\n  border: 1px solid #ddddd8;\n  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.25);\n  border-radius: 4px;\n  box-sizing: border-box;\n}\n.address-autocomplete--hidden {\n  display: none;\n}\n.address-autocomplete__header {\n  position: relative;\n  height: 33px;\n  line-height: 33px;\n  color: #787878;\n  font-size: 12px;\n  padding: 0 11px;\n}\n.address-autocomplete__close {\n  width: 12px;\n  height: 12px;\n  position: absolute;\n  right: 11px;\n  top: 9.5px;\n  background-image: url("data:image/svg+xml,%3Csvg width%3D%2212%22 height%3D%2213%22 viewBox%3D%220 0 12 13%22 fill%3D%22none%22 xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath fill-rule%3D%22evenodd%22 clip-rule%3D%22evenodd%22 d%3D%22M1.44122 0.750678C1.11174 0.416441 0.577557 0.416441 0.248083 0.750678C-0.0813916 1.08491 -0.0813925 1.62682 0.248082 1.96106L4.80752 6.5864L0.418422 11.0389C0.0889478 11.3732 0.0889488 11.9151 0.418423 12.2493C0.747898 12.5836 1.28208 12.5836 1.61156 12.2493L6.00065 7.79678L10.3897 12.2493C10.7192 12.5835 11.2534 12.5835 11.5828 12.2493C11.9123 11.915 11.9123 11.3731 11.5828 11.0389L7.19378 6.5864L11.7532 1.9611C12.0827 1.62686 12.0827 1.08496 11.7532 0.750718C11.4237 0.416481 10.8895 0.416481 10.56 0.750718L6.00065 5.37602L1.44122 0.750678Z%22 fill%3D%22%23737373%22%2F%3E%3C%2Fsvg%3E");\n  cursor: pointer;\n}\n.address-autocomplete__close::after {\n  left: -10px;\n  right: -10px;\n  top: -10px;\n  bottom: -10px;\n  position: absolute;\n  display: block;\n  content: "";\n}\n.address-autocomplete__footer {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 8px 11px;\n  color: #787878;\n  background: rgba(221, 221, 216, 0.2);\n}\n.address-autocomplete__list {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n.address-autocomplete__list li {\n  cursor: pointer;\n  height: 41px;\n  line-height: 17px;\n  padding: 11px;\n  color: #2c2c2c;\n  font-size: 12px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.address-autocomplete__list li:hover {\n  background: rgba(221, 221, 216, 0.5);\n}'),window["@sl/address-autocomplete"]={createCacheableServiceBuilder:function(t){return{build(n){let r={},o={};return{queryPlacePredictions(o,i,u){return e(this,void 0,void 0,function*(){let e=r[i];if(e&&e[u]){let t=e[u];return{ctx:o,payload:t.payload,provider:eC(eS,t.provider)}}try{let e=yield n.queryPlacePredictions(o,i,u);return r[i]=Object.assign(Object.assign({},r[i]||{}),{[u]:e}),e}catch(e){return t.onError(`[获取联想地址列表失败]`,{countryCode:i,query:u,error:e}),{ctx:o,payload:[],provider:eS}}})},queryPlaceDetail(r,i){return e(this,void 0,void 0,function*(){if(o[i]){let e=o[i];return{ctx:r,payload:e.payload,provider:eC(eS,e.provider)}}try{return n.queryPlaceDetail(r,i).then(e=>(o[i]=e,e))}catch(e){return t.onError(`[获取联想地址详情失败]`,{placeId:i,error:e}),{ctx:r,payload:{type:"NOT_EXISTED",placeId:i},provider:eS}}})}}}}},createShoplineServiceBuilder:function(t){return{build(n){let r={};return{queryPlacePredictions(o,i,u){return e(this,void 0,void 0,function*(){let e=yield t.autocomplete({input:u,country:i,language:n}).then(eO);if(!e.success)return{ctx:o,payload:[],provider:eE};let{token:l,predictions:a,type:c}=e.data;return(a||[]).forEach(e=>{r[e.placeId]={token:l,countryCode:i}}),{ctx:o,payload:(a||[]).map(e=>({placeId:e.placeId,description:e.description,matchedSubstrings:e.matchedSubstrings})),provider:eC(eE,c)}})},queryPlaceDetail(o,i){var u,l,a;return e(this,void 0,void 0,function*(){let e=yield t.detail({placeId:i,country:null===(u=r[i])||void 0===u?void 0:u.countryCode,token:null===(l=r[i])||void 0===l?void 0:l.token,language:n}).then(eO);return e.success&&null!=e.data?{ctx:o,payload:{type:"OK",placeId:i,detail:Object.assign({},e.data)},provider:eC(eE,null===(a=e.data)||void 0===a?void 0:a.type)}:{ctx:o,payload:{type:"NOT_EXISTED",placeId:i},provider:eE}})}}}}},bind:function(t,n,r,o){var i,u;let l;i=t,u=t=F.withValue(i,B,n),t=F.withValue(u,ex,r);let[a,c]=F.withCancel(t);return function(e,t,n){let r=!1,o=t=>{if(r)return;let o=t.target;if(o instanceof HTMLInputElement){let[t,r]=F.withCancel(e);n(t,r),e.done().finally(()=>{r()})}};t.addEventListener("focus",o),ej(()=>{r||document.activeElement!==t||n(...F.withCancel(e))}),e.done().finally(()=>{try{r=!0,t.removeEventListener("focus",o)}catch(e){}})}(a,o,(t,n)=>{if(l&&null==l.err())return;l=t;let[r,i]=F.withCancel(t),u=r=>{eT(r)>=eb(t).queryLengthThreshold&&(i(),function(t,n){let r,o,i;let u=(i=null,{ping(e,t){o&&o(),i=function(e,t,n){let r=e.value(G).queryPlacePredictions(e,e.value(B),n);return r.then(t=>{e.value(H).placePredicted({countryCode:e.value(B),query:n,response:t})}),{next:t,task:{query:n,promise:r.then(e=>{let{payload:t}=e;return!t||t.length<=0?{type:"Blank"}:{type:"Filled",predictions:t}})}}}(e,i,t);let[n,u]=F.withCancel(e);(function e(t,n,r){if(null!=n){let[o,i]=F.withCancel(t),u=n.task;u.promise.then(t=>{if(!o.err()){if("Filled"===t.type){r(u.query,t.predictions);return}e(o,n.next,r),o.done().finally(()=>{i()});return}});return}r("",[])})(n,i,(e,t)=>{"function"==typeof r&&r(e,t)}),o=u},get pong(){return r},set pong(cb){r=cb}}),l=t.value(eh);t.done().then(()=>{l.unmount()});let a=n.getAttribute("autocomplete");n.setAttribute("autocomplete","none"),t.done().then(()=>{n.setAttribute("autocomplete",a||"on")}),u.pong=(n,r)=>{if(null==r||r.length<=0){l.unmount();return}l.mount({predictions:r,predictionSelected(o){return e(this,void 0,void 0,function*(){let e=(()=>{for(let e=0;e<r.length;++e)if(r[e].placeId===o.placeId)return e;return -1})();l.unmount();let i=yield t.value(G).queryPlaceDetail(t,o.placeId),{payload:u}=i;if("OK"===u.type){let[l,a]=function(e=[]){var t;let n={},r=null===(t=e.find(({types:e})=>"country"===e[0]))||void 0===t?void 0:t.shortName,o=Reflect.get(e_,r||"")||ew,i=[];return e.forEach(e=>{let{longName:t,shortName:r,types:u=[]}=e,l=u[0];if(l&&s.Country===o[l])n.countryCode=[r];else if(l&&s.Postcode===o[l])n.postcode=[t];else if(l&&o[l]){let e=o[l];e===s.Province?n[e]=[r,t]:t&&(n[e]=[t])}else l&&eP.has(l)&&i.push(t)}),[i.length>0?i.join(" "):null,Object.assign({},n)]}(u.detail.addressComponents);null!==l&&(a[s.Address]=[l]),t.value(H).placeSelected({query:n,placeId:o.placeId,response:i,candidates:a,cursor:{index:e,length:r.length}})}})}})},t.done().then(()=>{u.pong=void 0}),function(e,t,n){let r=!1,o=e=>{if(r)return;let t=e.target;t instanceof HTMLInputElement&&n(t.value)};t.addEventListener("keyup",o),t.addEventListener("mouseup",o),t.addEventListener("input",o),ej(()=>{r||document.activeElement!==t||n(t.value)}),e.done().finally(()=>{try{r=!0,t.removeEventListener("keyup",o),t.removeEventListener("input",o),t.removeEventListener("mouseup",o)}catch(e){}})}(t,n,ey(e=>{eT(e)>=eb(t).queryLengthThreshold&&u.ping(t,e)},eb(t).debounceMS))}(t,o),function(e,t,n){let r=!1,o=()=>{r||document.activeElement===t||n()};t.addEventListener("blur",o),e.done().finally(()=>{try{r=!0,t.removeEventListener("blur",o)}catch(e){}})}(t,o,()=>{n()}))};(function(e,t,n){let r=!1,o=e=>{if(r)return;let t=e.target;t instanceof HTMLInputElement&&n(t.value)};t.addEventListener("input",o),ej(()=>{r||document.activeElement!==t||n(t.value)}),e.done().finally(()=>{try{r=!0,t.removeEventListener("input",o)}catch(e){}})})(r,o,e=>{u(e)})}),()=>{c()}},shouldBind:function(e,t){return!(!e||!t||eg.has(e))&&("JP"===e?t===s.Postcode:t===s.Address)},contextBuilder:function(){let e=[],t={with:n=>(e.push(n),t),withAutocompleteHooks:e=>t.with(t=>F.withValue(t,H,Object.assign({},W(),e))),withPlacePredictionConfig:e=>t.with(t=>F.withValue(t,em,e)),withAutocompleteService:e=>t.with(t=>F.withValue(t,G,e)),withRenderer:e=>t.with(t=>F.withValue(t,eh,e)),build:()=>e.reduce((e,t)=>t(e),F.background())};return t}}}();
