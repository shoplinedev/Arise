!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.globalSLM=t():e.globalSLM=t()}(self,(()=>(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};function n(e,t,n,r){return new(n||(n=Promise))((function(o,i){function u(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,c)}a((r=r.apply(e,t||[])).next())}))}e.r(t);var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e.g?e.g:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i={},u={},c={},a=r&&r.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function u(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(u,c)}a((r=r.apply(e,t||[])).next())}))},l=r&&r.__generator||function(e,t){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(c,"__esModule",{value:!0});var d=new Promise((function(e){}));c.default={zombie:d,resolvable:function(){var e,t=!1;return[new Promise((function(n){t?n():e=n})),function(){t=!0,"function"==typeof e&&e()}]},resolveAfterEventBubbled:function(e,t){return a(this,void 0,void 0,(function(){return l(this,(function(n){return[2,new Promise((function(n){var r=function(o){e.removeEventListener(t,r),n(o)};e.addEventListener(t,r)}))]}))}))},resolveAfterSeconds:function(e){return a(this,void 0,void 0,(function(){return l(this,(function(t){return e<=0?[2,Promise.resolve()]:[2,new Promise((function(t){setTimeout((function(){t()}),1e3*e)}))]}))}))},resolveAfterDuration:function(e){return a(this,void 0,void 0,(function(){return l(this,(function(t){return e<=0?[2,Promise.resolve()]:[2,new Promise((function(t){setTimeout((function(){t()}),e)}))]}))}))}};var s={};Object.defineProperty(s,"__esModule",{value:!0});var f=36e5,p=24*f,v=function(){function e(e){this.v=e}return Object.defineProperty(e.prototype,"timestamp",{get:function(){return this.v},enumerable:!1,configurable:!0}),e.prototype.add=function(t){return new e(this.v+t)},e.prototype.sub=function(t){return new e(this.v-t)},e.prototype.duration=function(e){return this.v-e.timestamp},e}();function y(e){return new v(e)}function h(){return y(Date.now())}s.default={time:y,now:h,later:function(e){return h().add(e)},former:function(e){return h().sub(e)},Millisecond:1,Second:1e3,Minute:6e4,Hour:f,Day:p,Week:6048e5};var m={};Object.defineProperty(m,"__esModule",{value:!0});m.default={errCanceled:"context done with cancellation",errTimeout:"context done with timeout",errDeadline:"context done with deadline",errNotNullableValuer:"valuer is not nullable"};var b=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(u,"__esModule",{value:!0});var g=b(c),w=b(s),_=b(m);function P(){return{deadline:function(){return null},done:function(){return g.default.zombie},err:function(){return null},value:function(e){return e?e.defaultGetter():null}}}function x(e){return e||(e=E),{deadline:function(){return e.deadline()},done:function(){return e.done()},err:function(){return e.err()},value:function(t){return e.value(t)}}}function C(e){var t=g.default.resolvable(),n=t[0],r=t[1],o=null;return[{deadline:function(){return e.deadline()},done:function(){return Promise.race([e.done().then((function(){return e.err()})),n.then((function(){return new Error(_.default.errCanceled)}))]).then((function(e){o=e}))},err:function(){return o},value:function(t){return e.value(t)}},r]}u.default={background:function(){return x(E)},todo:function(){return x(S)},withValue:function(e,t,n){return function(e,t,n){return{deadline:function(){return e.deadline()},done:function(){return e.done()},err:function(){return e.err()},value:function(r){return t===r?n:e.value(r)}}}(e,t,n)},withCancel:function(e){return C(e)},withTimeout:function(e,t){return C(function(e,t){var n,r=w.default.later(t),o=g.default.resolveAfterDuration(t);return{deadline:function(){return r},done:function(){return Promise.race([e.done().then((function(){return e.err()})),o.then((function(){return new Error(_.default.errTimeout)}))]).then((function(e){n=e}))},err:function(){return n},value:function(t){return e.value(t)}}}(e,t))},withDeadline:function(e,t){return C(function(e,t){var n=null,r=g.default.resolveAfterDuration(t.duration(w.default.now()));return{deadline:function(){return t},done:function(){return Promise.race([e.done().then((function(){return e.err()})),r.then((function(){return new Error(_.default.errDeadline)}))]).then((function(e){n=e}))},err:function(){return n},value:function(t){return e.value(t)}}}(e,t))}};var E=P(),S=P(),j={},T=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(j,"__esModule",{value:!0});var O=T(m);function D(e){return Object.defineProperty({},"defaultGetter",{value:e,writable:!1,configurable:!1})}j.default={newValuer:function(e){return D(void 0===e?function(){throw new Error(O.default.errNotNullableValuer)}:function(){return e})},newValuerWithGetter:function(e){return"function"!=typeof e&&(e=function(){throw new Error(O.default.errNotNullableValuer)}),D(e)}},function(e){var t=r&&r.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)},n=r&&r.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=r&&r.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},i=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var c=i(u),a=i(m),l=i(j);o(u,e),o(j,e),e.default=t(t(t({},a.default),c.default),l.default)}(i);var L=o(i);function N(e){return e.value(M)}const M=L.newValuer("US");const I=L.newValuerWithGetter((function(){return{queryPlaceDetail(e,t){return n(this,void 0,void 0,(function*(){return console.log("noopAutocompleteService queryPlaceDetail",{placeId:t}),{ctx:e,payload:{type:"NOT_EXISTED",placeId:t},provider:""}}))},queryPlacePredictions(e,t,r){return n(this,void 0,void 0,(function*(){return console.log("noopAutocompleteService queryPlacePredictions",{countryCode:t,query:r}),{ctx:e,payload:[],provider:""}}))}}}));function k(e){return e.value(I)}function A(){return{placePredicted(){},placeSelected(){}}}const q=L.newValuerWithGetter(A);function V(e){return e.value(q)}function F(e,t,n){if(null==t)n("",[]);else{const[r,o]=L.withCancel(e),i=t.task;i.promise.then((e=>{if(!r.err())return"Filled"===e.type?void n(i.query,e.predictions):(F(r,t.next,n),void r.done().finally((()=>{o()})))}))}}function B(){let e,t,n=null;return{ping(r,o){t&&t(),n=function(e,t,n){const r=k(e).queryPlacePredictions(e,N(e),n);return r.then((t=>{V(e).placePredicted({countryCode:N(e),query:n,response:t})})),{next:t,task:{query:n,promise:r.then((e=>{const{payload:t}=e;return!t||t.length<=0?{type:"Blank"}:{type:"Filled",predictions:t}}))}}}(r,n,o);const[i,u]=L.withCancel(r);F(i,n,((t,n)=>{"function"==typeof e&&e(t,n)})),t=u},get pong(){return e},set pong(t){e=t}}}var G=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},W="object"==typeof r&&r&&r.Object===Object&&r,H="object"==typeof self&&self&&self.Object===Object&&self,z=W||H||Function("return this")(),U=z,R=function(){return U.Date.now()},X=/\s/;var $=function(e){for(var t=e.length;t--&&X.test(e.charAt(t)););return t},K=/^\s+/;var Z=function(e){return e?e.slice(0,$(e)+1).replace(K,""):e},J=z.Symbol,Y=J,Q=Object.prototype,ee=Q.hasOwnProperty,te=Q.toString,ne=Y?Y.toStringTag:void 0;var re=function(e){var t=ee.call(e,ne),n=e[ne];try{e[ne]=void 0;var r=!0}catch(e){}var o=te.call(e);return r&&(t?e[ne]=n:delete e[ne]),o},oe=Object.prototype.toString;var ie=re,ue=function(e){return oe.call(e)},ce=J?J.toStringTag:void 0;var ae=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ce&&ce in Object(e)?ie(e):ue(e)},le=function(e){return null!=e&&"object"==typeof e};var de=Z,se=G,fe=function(e){return"symbol"==typeof e||le(e)&&"[object Symbol]"==ae(e)},pe=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^0o[0-7]+$/i,he=parseInt;var me=G,be=R,ge=function(e){if("number"==typeof e)return e;if(fe(e))return NaN;if(se(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=se(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=de(e);var n=ve.test(e);return n||ye.test(e)?he(e.slice(2),n?2:8):pe.test(e)?NaN:+e},we=Math.max,_e=Math.min;var Pe=function(e,t,n){var r,o,i,u,c,a,l=0,d=!1,s=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,i=o;return r=o=void 0,l=t,u=e.apply(i,n)}function v(e){var n=e-a;return void 0===a||n>=t||n<0||s&&e-l>=i}function y(){var e=be();if(v(e))return h(e);c=setTimeout(y,function(e){var n=t-(e-a);return s?_e(n,i-(e-l)):n}(e))}function h(e){return c=void 0,f&&r?p(e):(r=o=void 0,u)}function m(){var e=be(),n=v(e);if(r=arguments,o=this,a=e,n){if(void 0===c)return function(e){return l=e,c=setTimeout(y,t),d?p(e):u}(a);if(s)return clearTimeout(c),c=setTimeout(y,t),p(a)}return void 0===c&&(c=setTimeout(y,t)),u}return t=ge(t)||0,me(n)&&(d=!!n.leading,i=(s="maxWait"in n)?we(ge(n.maxWait)||0,t):i,f="trailing"in n?!!n.trailing:f),m.cancel=function(){void 0!==c&&clearTimeout(c),l=0,r=a=o=c=void 0},m.flush=function(){return void 0===c?u:h(be())},m};const xe=L.newValuerWithGetter((()=>({mount(e){console.log("noop Renderer mount",e)},unmount(){console.log("noop Renderer unmount")}})));const Ce=L.newValuerWithGetter((()=>({debounceMS:400,queryLengthThreshold:2})));function Ee(e){return e.value(Ce)}var Se,je,Te;!function(e){e.Country="country",e.Province="province",e.City="city",e.District="district",e.Name="name",e.FirstName="firstName",e.LastName="lastName",e.Mobile="mobile",e.Postcode="postcode",e.Company="company",e.Address="address",e.Address2="address2"}(Se||(Se={})),function(e){e[e.NAME=1]="NAME",e[e.FLName=2]="FLName"}(je||(je={})),function(e){e[e.Select=1]="Select",e[e.Input=2]="Input"}(Te||(Te={}));const Oe=new Set(["CN","TW","MY","ID","SG","VN","PH","TH"]),De={US:{country:Se.Country,administrative_area_level_1:Se.Province,locality:Se.City,postal_code:Se.Postcode},DE:{country:Se.Country,locality:Se.City,postal_code:Se.Postcode},GB:{country:Se.Country,administrative_area_level_1:Se.Province,administrative_area_level_2:Se.City,postal_code:Se.Postcode},IT:{country:Se.Country,administrative_area_level_2:Se.Province,locality:Se.City,postal_code:Se.Postcode},CA:{country:Se.Country,administrative_area_level_1:Se.Province,locality:Se.City,postal_code:Se.Postcode},AU:{country:Se.Country,administrative_area_level_1:Se.Province,locality:Se.City,postal_code:Se.Postcode},FR:{country:Se.Country,administrative_area_level_2:Se.Province,locality:Se.City,postal_code:Se.Postcode},NZ:{country:Se.Country,administrative_area_level_1:Se.Province,locality:Se.City,sublocality_level_1:Se.District,postal_code:Se.Postcode}},Le={country:Se.Country,administrative_area_level_1:Se.Province,locality:Se.City,postal_code:Se.Postcode},Ne=new Set(["street_number","route"]);const Me=L.newValuer("US");function Ie(e,t){return[e,t].filter((e=>null!=e)).join(".")}const ke="shopline",Ae="cache";function qe(e){return"boolean"==typeof e.success||(e.success="SUCCESS"===e.code),e}function Ve(e){return Array.from(e).length}function Fe(e){"function"!=typeof queueMicrotask?Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e})))):queueMicrotask(e)}return function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}('.address-autocomplete__parent {\n  position: relative;\n}\n\n.address-autocomplete {\n  position: absolute;\n  width: 100%;\n  top: 100%;\n  z-index: 100;\n  background-color: #fff;\n  border: 1px solid #ddddd8;\n  box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.25);\n  border-radius: 4px;\n  box-sizing: border-box;\n}\n.address-autocomplete--hidden {\n  display: none;\n}\n.address-autocomplete__header {\n  position: relative;\n  height: 33px;\n  line-height: 33px;\n  color: #787878;\n  font-size: 12px;\n  padding: 0 11px;\n}\n.address-autocomplete__close {\n  width: 12px;\n  height: 12px;\n  position: absolute;\n  right: 11px;\n  top: 9.5px;\n  background-image: url("data:image/svg+xml,%3Csvg width%3D%2212%22 height%3D%2213%22 viewBox%3D%220 0 12 13%22 fill%3D%22none%22 xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath fill-rule%3D%22evenodd%22 clip-rule%3D%22evenodd%22 d%3D%22M1.44122 0.750678C1.11174 0.416441 0.577557 0.416441 0.248083 0.750678C-0.0813916 1.08491 -0.0813925 1.62682 0.248082 1.96106L4.80752 6.5864L0.418422 11.0389C0.0889478 11.3732 0.0889488 11.9151 0.418423 12.2493C0.747898 12.5836 1.28208 12.5836 1.61156 12.2493L6.00065 7.79678L10.3897 12.2493C10.7192 12.5835 11.2534 12.5835 11.5828 12.2493C11.9123 11.915 11.9123 11.3731 11.5828 11.0389L7.19378 6.5864L11.7532 1.9611C12.0827 1.62686 12.0827 1.08496 11.7532 0.750718C11.4237 0.416481 10.8895 0.416481 10.56 0.750718L6.00065 5.37602L1.44122 0.750678Z%22 fill%3D%22%23737373%22%2F%3E%3C%2Fsvg%3E");\n  cursor: pointer;\n}\n.address-autocomplete__close::after {\n  left: -10px;\n  right: -10px;\n  top: -10px;\n  bottom: -10px;\n  position: absolute;\n  display: block;\n  content: "";\n}\n.address-autocomplete__footer {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 8px 11px;\n  color: #787878;\n  background: rgba(221, 221, 216, 0.2);\n}\n.address-autocomplete__list {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n.address-autocomplete__list li {\n  cursor: pointer;\n  height: 41px;\n  line-height: 17px;\n  padding: 11px;\n  color: #2c2c2c;\n  font-size: 12px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.address-autocomplete__list li:hover {\n  background: rgba(221, 221, 216, 0.5);\n}'),window["@sl/address-autocomplete"]={createCacheableServiceBuilder:function(e){return{build(t){const r={},o={};return{queryPlacePredictions(o,i,u){return n(this,void 0,void 0,(function*(){const n=r[i];if(n&&n[u]){const e=n[u];return{ctx:o,payload:e.payload,provider:Ie(Ae,e.provider)}}try{const e=yield t.queryPlacePredictions(o,i,u);return a=u,l=e,r[c=i]=Object.assign(Object.assign({},r[c]||{}),{[a]:l}),e}catch(t){return e.onError("[获取联想地址列表失败]",{countryCode:i,query:u,error:t}),{ctx:o,payload:[],provider:Ae}}var c,a,l}))},queryPlaceDetail(r,i){return n(this,void 0,void 0,(function*(){if(o[i]){const e=o[i];return{ctx:r,payload:e.payload,provider:Ie(Ae,e.provider)}}try{return t.queryPlaceDetail(r,i).then((e=>(function(e,t){o[e]=t}(i,e),e)))}catch(t){return e.onError("[获取联想地址详情失败]",{placeId:i,error:t}),{ctx:r,payload:{type:"NOT_EXISTED",placeId:i},provider:Ae}}}))}}}}},createShoplineServiceBuilder:function(e){return{build(t){const r={};return{queryPlacePredictions(o,i,u){return n(this,void 0,void 0,(function*(){const n=yield e.autocomplete({input:u,country:i,language:t}).then(qe);if(!n.success)return{ctx:o,payload:[],provider:ke};const{token:c,predictions:a,type:l}=n.data;return(a||[]).forEach((e=>{r[e.placeId]={token:c,countryCode:i}})),{ctx:o,payload:(a||[]).map((e=>({placeId:e.placeId,description:e.description,matchedSubstrings:e.matchedSubstrings}))),provider:Ie(ke,l)}}))},queryPlaceDetail(o,i){var u,c,a;return n(this,void 0,void 0,(function*(){const n=yield e.detail({placeId:i,country:null===(u=r[i])||void 0===u?void 0:u.countryCode,token:null===(c=r[i])||void 0===c?void 0:c.token,language:t}).then(qe);return n.success&&null!=n.data?{ctx:o,payload:{type:"OK",placeId:i,detail:Object.assign({},n.data)},provider:Ie(ke,null===(a=n.data)||void 0===a?void 0:a.type)}:{ctx:o,payload:{type:"NOT_EXISTED",placeId:i},provider:ke}}))}}}}},bind:function(e,t,r,o){e=function(e,t){return L.withValue(e,Me,t)}(e=function(e,t){return L.withValue(e,M,t)}(e,t),r);const[i,u]=L.withCancel(e);let c;return function(e,t,n){let r=!1;const o=t=>{if(r)return;if(t.target instanceof HTMLInputElement){const[t,r]=L.withCancel(e);n(t,r),e.done().finally((()=>{r()}))}};t.addEventListener("focus",o),Fe((()=>{r||document.activeElement===t&&n(...L.withCancel(e))})),e.done().finally((()=>{try{r=!0,t.removeEventListener("focus",o)}catch(e){}}))}(i,o,((e,t)=>{if(c&&null==c.err())return;c=e;const[r,i]=L.withCancel(e),u=r=>{Ve(r)>=Ee(e).queryLengthThreshold&&(i(),function(e,t){const r=B(),o=function(e){return e.value(xe)}(e);e.done().then((()=>{o.unmount()}));const i=t.getAttribute("autocomplete");t.setAttribute("autocomplete","none"),e.done().then((()=>{t.setAttribute("autocomplete",i||"on")})),r.pong=(t,r)=>{null==r||r.length<=0?o.unmount():o.mount({predictions:r,predictionSelected(i){return n(this,void 0,void 0,(function*(){const n=(()=>{for(let e=0;e<r.length;++e)if(r[e].placeId===i.placeId)return e;return-1})();o.unmount();const u=yield k(e).queryPlaceDetail(e,i.placeId),{payload:c}=u;if("OK"===c.type){const[o,a]=function(e=[]){var t;const n={},r=null===(t=e.find((({types:e})=>"country"===e[0])))||void 0===t?void 0:t.shortName,o=Reflect.get(De,r||"")||Le,i=[];return e.forEach((e=>{const{longName:t,shortName:r,types:u=[]}=e,c=u[0];if(c&&Se.Country===o[c])n.countryCode=[r];else if(c&&Se.Postcode===o[c])n.postcode=[t];else if(c&&o[c]){const e=o[c];e===Se.Province?n[e]=[r,t]:t&&(n[e]=[t])}else c&&Ne.has(c)&&i.push(t)})),[i.length>0?i.join(" "):null,Object.assign({},n)]}(c.detail.addressComponents);null!==o&&(a[Se.Address]=[o]),V(e).placeSelected({query:t,placeId:i.placeId,response:u,candidates:a,cursor:{index:n,length:r.length}})}}))}})},e.done().then((()=>{r.pong=void 0})),function(e,t,n){let r=!1;const o=e=>{if(r)return;const t=e.target;t instanceof HTMLInputElement&&n(t.value)};t.addEventListener("keyup",o),t.addEventListener("mouseup",o),t.addEventListener("input",o),Fe((()=>{r||document.activeElement===t&&n(t.value)})),e.done().finally((()=>{try{r=!0,t.removeEventListener("keyup",o),t.removeEventListener("input",o),t.removeEventListener("mouseup",o)}catch(e){}}))}(e,t,Pe((t=>{Ve(t)>=Ee(e).queryLengthThreshold&&r.ping(e,t)}),Ee(e).debounceMS))}(e,o),function(e,t,n){let r=!1;const o=()=>{r||document.activeElement!==t&&n()};t.addEventListener("blur",o),e.done().finally((()=>{try{r=!0,t.removeEventListener("blur",o)}catch(e){}}))}(e,o,(()=>{t()})))};!function(e,t,n){let r=!1;const o=e=>{if(r)return;const t=e.target;t instanceof HTMLInputElement&&n(t.value)};t.addEventListener("input",o),Fe((()=>{r||document.activeElement===t&&n(t.value)})),e.done().finally((()=>{try{r=!0,t.removeEventListener("input",o)}catch(e){}}))}(r,o,(e=>{u(e)}))})),()=>{u()}},shouldBind:function(e,t){return!(!e||!t)&&(!Oe.has(e)&&("JP"===e?t===Se.Postcode:t===Se.Address))},contextBuilder:function(){const e=[],t={with:n=>(e.push(n),t),withAutocompleteHooks:e=>t.with((t=>function(e,t){return L.withValue(e,q,Object.assign({},A(),t))}(t,e))),withPlacePredictionConfig:e=>t.with((t=>function(e,t){return L.withValue(e,Ce,t)}(t,e))),withAutocompleteService:e=>t.with((t=>function(e,t){return L.withValue(e,I,t)}(t,e))),withRenderer:e=>t.with((t=>function(e,t){return L.withValue(e,xe,t)}(t,e))),build:()=>e.reduce(((e,t)=>t(e)),L.background())};return t}},t})()));