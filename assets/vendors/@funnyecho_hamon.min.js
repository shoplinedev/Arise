!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.globalSLM=e():t.globalSLM=e()}(self,(()=>(()=>{"use strict";var t={69037:function(t,e){var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},n(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)l.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return l},i=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t},l=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function a(t){var e=!1;return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];e||(e=!0,t.apply(void 0,i(n)))}}function u(t,e,n){var o;if(o="function"==typeof t.onComplete?t.onComplete:function(t,e){},n.length){var r=n.shift(),l=n,a=Array.from(e),p=i(e,[function(e,n){null==e?void 0===n||!0!==t.shouldBail?(void 0!==n&&!0===t.shouldWaterfall&&(a[0]=n),u(t,a,l)):o(null,n):o(e)}]);r.fn.apply(r,i(p))}else t.shouldWaterfall?o(null,e[0]):o(null,void 0)}Object.defineProperty(e,"__esModule",{value:!0});var p=function(){function t(t){this.tapIdSeed=0,this.presetTapBucket=new Set,this.tapBuckets=new Map,this.tapOptionsCache=new Map,this.bucketHashcode=t}return t.prototype.exhaust=function(){this.presetTapBucket.clear(),this.tapBuckets.clear(),this.tapOptionsCache.clear()},t.prototype.destroy=function(){this.exhaust()},t.prototype.insertSyncTap=function(t,e){return this.tapping(t,e)},t.prototype.insertAsyncTap=function(t,e){return this.tapping((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=e[e.length-1];try{t.apply(void 0,i(e))}catch(t){o(t)}}),e)},t.prototype.insertPromiseTap=function(t,e){return this.tapping((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=e.pop(),r=e;try{Promise.resolve(t.apply(void 0,i(r))).then((function(t){o(null,t)}),(function(t){o(t)}))}catch(t){o(t)}}),e)},t.prototype.invokeSeries=function(t,e){e||(e={}),"function"==typeof e.onComplete&&(e.onComplete=a(e.onComplete)),u(e,t,Array.from(this.getBucketTaps(t)))},t.prototype.invokeParallel=function(t,e){e||(e={}),"function"==typeof e.onComplete&&(e.onComplete=a(e.onComplete)),function(t,e,n){var o,r,a;if(a="function"==typeof t.onComplete?t.onComplete:function(t,e){},n.length){var u=n.length,p=i(e,[function(n,o){null==n?void 0===o||!0!==t.shouldBail?--u<=0&&a(null,e[0]):a(null,o):a(n)}]);try{for(var s=l(n),c=s.next();!c.done;c=s.next()){var f=c.value;f.fn.apply(f,i(p))}}catch(t){o={error:t}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}}else a(null,void 0)}(e,t,Array.from(this.getBucketTaps(t)))},t.prototype.invokeSynchronously=function(t,e){return e||(e={}),function(t,e,n){var o,r;if(!n.length)return t.shouldWaterfall?e[0]:void 0;var a=Array.from(e);try{for(var u=l(n),p=u.next();!p.done;p=u.next()){var s=p.value.fn.apply(void 0,i(a));if(void 0!==s&&!0===t.shouldBail)return s;void 0!==s&&!0===t.shouldWaterfall&&(a[0]=s)}}catch(t){o={error:t}}finally{try{p&&!p.done&&(r=u.return)&&r.call(u)}finally{if(o)throw o.error}}return t.shouldWaterfall?a[0]:void 0}(e,t,Array.from(this.getBucketTaps(t)))},t.prototype.getBucketTaps=function(t){var e,n,o=Array.from(this.presetTapBucket),r=[];if("function"==typeof this.bucketHashcode){var a=this.bucketHashcode.apply(this,i(t));this.tapBuckets.has(a)&&(r=Array.from(this.tapBuckets.get(a)))}var u=new Set(i(o,r)),p=new Set;try{for(var s=l(u),c=s.next();!c.done;c=s.next()){var f=c.value;p.add(this.tapOptionsCache.get(f))}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return p},t.prototype.tapping=function(t,e){var n=this,o=this.presetTapBucket;e&&(this.tapBuckets.has(e)||this.tapBuckets.set(e,new Set),o=this.tapBuckets.get(e));var r=this.generateTapId(),i={fn:t,bucket:e};return this.tapOptionsCache.set(r,i),o.add(r),function(){n.popoutTap(r)}},t.prototype.popoutTap=function(t){var e=this.tapOptionsCache.get(t);if(e){var n=e.bucket;n?this.tapBuckets.has(n)&&this.tapBuckets.get(n).delete(t):this.presetTapBucket.delete(t),this.tapOptionsCache.delete(t)}},t.prototype.generateTapId=function(){return"tap:"+ ++this.tapIdSeed+"?"+Date.now()},t}();e.Hook=p;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.tap=function(t,e){return this.insertSyncTap(t,e)},e}(p);e.SyncTapHook=s;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.tapAsync=function(t,e){return this.insertAsyncTap(t,e)},e.prototype.tapPromise=function(t,e){return this.insertPromiseTap(t,e)},e}(p);e.AsyncTapHook=c;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.call=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.invokeSynchronously(t)},e}(s);e.SyncHook=f;var h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.call=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.invokeSynchronously(t,{shouldBail:!0})},e}(s);e.SyncBailHook=h;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.call=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.invokeSynchronously(t,{shouldWaterfall:!0})},e}(s);e.SyncWaterfallHook=y;var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.callAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.pop();this.invokeParallel(t,{onComplete:function(t){null!=t?n(t):n()}})},e.prototype.callPromise=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise((function(n,o){t.invokeParallel(e,{onComplete:function(t){null!=t?o(t):n()}})}))},e}(c);e.AsyncParallelHook=v;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.callAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.pop();this.invokeParallel(t,{shouldBail:!0,onComplete:n})},e.prototype.callPromise=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise((function(n,o){t.invokeParallel(e,{shouldBail:!0,onComplete:function(t,e){null!=t?o(t):n(e)}})}))},e}(c);e.AsyncParallelBailHook=d;var k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.callAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.pop();this.invokeSeries(t,{onComplete:function(t){null!=t?n(t):n()}})},e.prototype.callPromise=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise((function(n,o){t.invokeSeries(e,{onComplete:function(t){null!=t?o(t):n()}})}))},e}(c);e.AsyncSeriesHook=k;var m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.callAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.pop();this.invokeSeries(t,{shouldBail:!0,onComplete:n})},e.prototype.callPromise=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise((function(n,o){t.invokeSeries(e,{shouldBail:!0,onComplete:function(t,e){null!=t?o(t):n(e)}})}))},e}(c);e.AsyncSeriesBailHook=m;var S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.callAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.pop();this.invokeSeries(t,{shouldWaterfall:!0,onComplete:n})},e.prototype.callPromise=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return new Promise((function(n,o){t.invokeSeries(e,{shouldWaterfall:!0,onComplete:function(t,e){null!=t?o(t):n(e)}})}))},e}(c);e.AsyncSeriesWaterfallHook=S,e.default={SyncHook:f,SyncBailHook:h,SyncWaterfallHook:y,AsyncSeriesHook:k,AsyncSeriesBailHook:m,AsyncSeriesWaterfallHook:S,AsyncParallelHook:v,AsyncParallelBailHook:d}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{n.r(o);var t=n(69037);window["@funnyecho/hamon"]={SyncHook:t.SyncHook,AsyncSeriesBailHook:t.AsyncSeriesBailHook}})(),o})()));