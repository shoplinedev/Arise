!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.globalSLM=r():e.globalSLM=r()}(self,(()=>(()=>{"use strict";var e,r,i={r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e){return"object"==typeof e&&null!==e}i.r(t),function(e){e.company="company",e.country="country",e.province="province",e.countryCode="countryCode",e.city="city",e.district="district",e.name="name",e.firstName="firstName",e.lastName="lastName",e.address="address",e.address2="address2",e.postcode="postcode",e.mobile="mobile"}(e||(e={})),function(e){e[e["1D"]=1]="1D",e[e["2D"]=2]="2D"}(r||(r={}));const s=["JP"],o=["MY"],c={type:r["1D"],returnString:!1,error:void 0},l=[[e.lastName,e.firstName],[e.country,e.postcode],[e.province],[e.city],[e.district],[e.address],[e.address2],[e.company],[e.mobile]],d=[[e.country,e.postcode],[e.province],[e.city],[e.district],[e.address],[e.address2],[e.company]],a=[[e.firstName,e.lastName],[e.company],[e.address],[e.address2],[e.district],[e.city,e.province,e.postcode],[e.country],[e.mobile]],u=[[e.company],[e.address],[e.address2],[e.district],[e.city,e.province,e.postcode],[e.country]],y=a;function b(i,t=c){try{const c=function(e){return n(e)}(i);c||function(e){throw new Error(e)}("sl-address-component: Invalid parameter passed to serialize");const b=function(e){let r=Object.assign({},e),i={};Object.keys(r).forEach((e=>{const t=r[e];i[e]=t?String(t):""})),r=i;let t={};const{name:n,firstName:s,lastName:o}=r;if(s||o)t=r;else{const e=n||"";t=Object.assign(Object.assign({},r),{firstName:e})}return r=t,r}(i),f=function(i,t){let n=Object.assign({},t);const{type:s,excludes:c}=t;s||(n=Object.assign(Object.assign({},n),{type:r["1D"]}));const l=i.countryCode;if(l&&o.includes(l)){if(!(c||[]).includes(e.city)){const r=[...c||[],e.city];n=Object.assign(Object.assign({},n),{excludes:r})}}return n}(i,t),m=function(e,i){let t=y;if(!e.countryCode)return g(e,t,i);if(i.type===r["1D"]){t=s.includes(e.countryCode)?d:u;const r=g(e,t,i);return r.length>0?[r.join(",")]:[]}t=s.includes(e.countryCode)?l:a;return g(e,t,i)}(b,f);if(0===m.length)return null;const{returnString:v}=t;return!0===v?m[0]:m}catch(e){const{error:r}=t;return r&&r(e),null}}function g(e,r,i){const{includes:t,excludes:n}=i;let s=[];for(let i=0;i<r.length;i++){const o=r[i];let c=[];for(let r=0;r<o.length;r++){const i=o[r];t&&!t.includes(i)||(n&&n.includes(i)||i&&e[i]&&"string"==typeof e[i]&&c.push(e[i]))}c.length>0&&s.push(c.join(" "))}return s}var f;!function(e){e.receiverCompany="receiverCompany",e.receiverCountry="receiverCountry",e.receiverCountryCode="receiverCountryCode",e.receiverProvince="receiverProvince",e.receiverCity="receiverCity",e.receiverArea="receiverArea",e.receiverFirstName="receiverFirstName",e.receiverLastName="receiverLastName",e.receiverAddress="receiverAddress",e.receiverAddressAdd="receiverAddressAdd",e.receiverPostcode="receiverPostcode",e.receiverMobile="receiverMobile"}(f||(f={}));const m={[f.receiverFirstName]:e.firstName,[f.receiverLastName]:e.lastName,[f.receiverMobile]:e.mobile,[f.receiverCountryCode]:e.countryCode,[f.receiverCountry]:e.country,[f.receiverProvince]:e.province,[f.receiverCity]:e.city,[f.receiverArea]:e.district,[f.receiverAddress]:e.address,[f.receiverAddressAdd]:e.address2,[f.receiverPostcode]:e.postcode,[f.receiverCompany]:e.company};function v(e,r=c){const i={};if(!n(e))return b({},r);Object.keys(e).forEach((r=>{i[m[r]]=e[r]}));const{includes:t,excludes:s}=r;let o=Object.assign({},r);if(Array.isArray(t)&&t.length){const e=t.map((e=>m[e]?m[e]:null)).filter((e=>!!e));o.includes=e}if(Array.isArray(s)&&s.length){const e=s.map((e=>m[e]?m[e]:null)).filter((e=>!!e));o.excludes=e}return b(i,o)}var p;!function(e){e.billingFirstName="billingFirstName",e.billingLastName="billingLastName",e.billingPhone="billingPhone",e.billingCountryCode="billingCountryCode",e.billingCountry="billingCountry",e.billingProvince="billingProvince",e.billingCity="billingCity",e.billingArea="billingArea",e.billingAddress1="billingAddress1",e.billingAddress2="billingAddress2",e.billingPostcode="billingPostcode",e.billingCompany="billingCompany"}(p||(p={}));const C={[p.billingFirstName]:e.firstName,[p.billingLastName]:e.lastName,[p.billingPhone]:e.mobile,[p.billingCountryCode]:e.countryCode,[p.billingCountry]:e.country,[p.billingProvince]:e.province,[p.billingCity]:e.city,[p.billingArea]:e.district,[p.billingAddress1]:e.address,[p.billingAddress2]:e.address2,[p.billingPostcode]:e.postcode,[p.billingCompany]:e.company};function A(e,r=c){const i={};if(!n(e))return b({},r);Object.keys(e).forEach((r=>{i[C[r]]=e[r]}));const{includes:t,excludes:s}=r;let o=Object.assign({},r);if(Array.isArray(t)&&t.length){const e=t.map((e=>C[e]?C[e]:null)).filter((e=>!!e));o.includes=e}if(Array.isArray(s)&&s.length){const e=s.map((e=>C[e]?C[e]:null)).filter((e=>!!e));o.excludes=e}return b(i,o)}return window["@sl/address-serializer"]={receiverInfoSerializer:v,receiverInfoSerializer2D:function(e,i=c){return v(e,Object.assign(Object.assign({},i),{type:r["2D"]}))},billingInfoSerializer:A},t})()));