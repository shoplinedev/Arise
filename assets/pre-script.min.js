!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.globalSLM=t():e.globalSLM=t()}(self,(()=>(()=>{"use strict";var e={r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function i(e,t,i){var n,s;if(function(){var t,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in s=e.lazySizesConfig||e.lazysizesConfig||{},i)t in s||(s[t]=i[t])}(),!t||!t.getElementsByClassName)return{init:function(){},cfg:s,noSupport:!0};var r,a,o,l,c,d,u,f,m,h,g,y,p,z,v,b,A,E,w,C,_,x,S,L,M,$,N,T,R,W,j,B,O,F,P,q,k,D,H,I,U,G,J,K=t.documentElement,Q=e.HTMLPictureElement,V="addEventListener",X=e.addEventListener.bind(e),Y=e.setTimeout,Z=e.requestAnimationFrame||Y,ee=e.requestIdleCallback,te=/^picture$/i,ie=["load","error","lazyincluded","_lazyloaded"],ne={},se=Array.prototype.forEach,re=function(e,t){return ne[t]||(ne[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),ne[t].test(e.getAttribute("class")||"")&&ne[t]},ae=function(e,t){re(e,t)||e.setAttribute("class",(e.getAttribute("class")||"").trim()+" "+t)},oe=function(e,t){var i;(i=re(e,t))&&e.setAttribute("class",(e.getAttribute("class")||"").replace(i," "))},le=function(e,t,i){var n=i?V:"removeEventListener";i&&le(e,t),ie.forEach((function(i){e[n](i,t)}))},ce=function(e,i,s,r,a){var o=t.createEvent("Event");return s||(s={}),s.instance=n,o.initEvent(i,!r,!a),o.detail=s,e.dispatchEvent(o),o},de=function(t,i){var n;!Q&&(n=e.picturefill||s.pf)?(i&&i.src&&!t.getAttribute("srcset")&&t.setAttribute("srcset",i.src),n({reevaluate:!0,elements:[t]})):i&&i.src&&(t.src=i.src)},ue=function(e,t){return(getComputedStyle(e,null)||{})[t]},fe=function(e,t,i){for(i=i||e.offsetWidth;i<s.minSize&&t&&!e._lazysizesWidth;)i=t.offsetWidth,t=t.parentNode;return i},me=(l=[],c=o=[],u=function(e,i){r&&!i?e.apply(this,arguments):(c.push(e),a||(a=!0,(t.hidden?Y:Z)(d)))},u._lsFlush=d=function(){var e=c;for(c=o.length?l:o,r=!0,a=!1;e.length;)e.shift()();r=!1},u),he=function(e,t){return t?function(){me(e)}:function(){var t=this,i=arguments;me((function(){e.apply(t,i)}))}},ge=function(e){var t,n,s=function(){t=null,e()},r=function(){var e=i.now()-n;e<99?Y(r,99-e):(ee||s)(s)};return function(){n=i.now(),t||(t=Y(r,99))}},ye=(C=/^img$/i,_=/^iframe$/i,x="onscroll"in e&&!/(gle|ing)bot/.test(navigator.userAgent),S=0,L=0,M=-1,$=function(e){L--,(!e||L<0||!e.target)&&(L=0)},N=function(e){return null==w&&(w="hidden"==ue(t.body,"visibility")),w||!("hidden"==ue(e.parentNode,"visibility")&&"hidden"==ue(e,"visibility"))},T=function(e,i){var n,s=e,r=N(e);for(v-=i,E+=i,b-=i,A+=i;r&&(s=s.offsetParent)&&s!=t.body&&s!=K;)(r=(ue(s,"opacity")||1)>0)&&"visible"!=ue(s,"overflow")&&(n=s.getBoundingClientRect(),r=A>n.left&&b<n.right&&E>n.top-1&&v<n.bottom+1);return r},W=function(e){var t,n=0,r=s.throttleDelay,a=s.ricTimeout,o=function(){t=!1,n=i.now(),e()},l=ee&&a>49?function(){ee(o,{timeout:a}),a!==s.ricTimeout&&(a=s.ricTimeout)}:he((function(){Y(o)}),!0);return function(e){var s;(e=!0===e)&&(a=33),t||(t=!0,(s=r-(i.now()-n))<0&&(s=0),e||s<9?l():Y(l,s))}}(R=function(){var e,i,r,a,o,l,c,d,u,h,y,C,_=[...n.elements||[],...n.extraElements||[]];if((g=s.loadMode)&&L<8&&(e=_.length)){for(i=0,M++;i<e;i++)if(_[i]&&!_[i]._lazyRace)if(!x||n.prematureUnveil&&n.prematureUnveil(_[i]))q(_[i]);else if((d=_[i].getAttribute("data-expand"))&&(l=1*d)||(l=S),h||(h=!s.expand||s.expand<1?K.clientHeight>500&&K.clientWidth>500?500:370:s.expand,n._defEx=h,y=h*s.expFactor,C=s.hFac,w=null,S<y&&L<1&&M>2&&g>2&&!t.hidden?(S=y,M=0):S=g>1&&M>1&&L<6?h:0),u!==l&&(p=innerWidth+l*C,z=innerHeight+l,c=-1*l,u=l),r=_[i].getBoundingClientRect(),(E=r.bottom)>=c&&(v=r.top)<=z&&(A=r.right)>=c*C&&(b=r.left)<=p&&(E||A||b||v)&&(s.loadHidden||N(_[i]))&&(m&&L<3&&!d&&(g<3||M<4)||T(_[i],l))){if(q(_[i]),o=!0,L>9)break}else!o&&m&&!a&&L<4&&M<4&&g>2&&(f[0]||s.preloadAfterLoad)&&(f[0]||!d&&(E||A||b||v||"auto"!=_[i].getAttribute(s.sizesAttr)))&&(a=f[0]||_[i]);a&&!o&&q(a)}}),B=he(j=function(e){var t=e.target;t._lazyCache?delete t._lazyCache:($(e),ae(t,s.loadedClass),oe(t,s.loadingClass),n.extraElements=n.extraElements.filter((e=>e!==t)),le(t,O),ce(t,"lazyloaded"))}),O=function(e){B({target:e.target})},F=function(e){var t,i=e.getAttribute(s.srcsetAttr);(t=s.customMedia[e.getAttribute("data-media")||e.getAttribute("media")])&&e.setAttribute("media",t),i&&e.setAttribute("srcset",i)},P=he((function(e,t,i,n,r){var a,o,l,c,d,u;(d=ce(e,"lazybeforeunveil",t)).defaultPrevented||(n&&(i?ae(e,s.autosizesClass):e.setAttribute("sizes",n)),o=e.getAttribute(s.srcsetAttr),a=e.getAttribute(s.srcAttr),r&&(c=(l=e.parentNode)&&te.test(l.nodeName||"")),u=t.firesLoad||"src"in e&&(o||a||c),d={target:e},ae(e,s.loadingClass),u&&(clearTimeout(h),h=Y($,2500),le(e,O,!0)),c&&se.call(l.getElementsByTagName("source"),F),o?e.setAttribute("srcset",o):a&&!c&&(_.test(e.nodeName)?function(e,t){var i=e.getAttribute("data-load-mode")||s.iframeLoadMode;0==i?e.contentWindow.location.replace(t):1==i&&(e.src=t)}(e,a):e.src=a),r&&(o||c)&&de(e,{src:a})),e._lazyRace&&delete e._lazyRace,oe(e,s.lazyClass),me((function(){var t=e.complete&&e.naturalWidth>1;u&&!t||(t&&ae(e,s.fastLoadedClass),j(d),e._lazyCache=!0,Y((function(){"_lazyCache"in e&&delete e._lazyCache}),9)),"lazy"==e.loading&&L--}),!0)})),q=function(e){if(!e._lazyRace){var t,i=C.test(e.nodeName),n=i&&(e.getAttribute(s.sizesAttr)||e.getAttribute("sizes")),r="auto"==n;(!r&&m||!i||!e.getAttribute("src")&&!e.srcset||e.complete||re(e,s.errorClass)||!re(e,s.lazyClass))&&(t=ce(e,"lazyunveilread").detail,r&&pe.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,L++,P(e,t,r,n,i))}},k=ge((function(){s.loadMode=3,W()})),H=function(){m||(i.now()-y<999?Y(H,999):(m=!0,s.loadMode=3,W(),X("scroll",D,!0)))},{_:function(){y=i.now(),n.elements=t.getElementsByClassName(s.lazyClass),n.extraElements=[],f=t.getElementsByClassName(s.lazyClass+" "+s.preloadClass),X("scroll",W,!0),X("resize",W,!0),X("pageshow",(function(e){if(e.persisted){var i=t.querySelectorAll("."+s.loadingClass);i.length&&i.forEach&&Z((function(){i.forEach((function(e){e.complete&&q(e)}))}))}})),e.MutationObserver?new MutationObserver(W).observe(K,{childList:!0,subtree:!0,attributes:!0}):(K.addEventListener("DOMNodeInserted",W,!0),K.addEventListener("DOMAttrModified",W,!0),setInterval(W,999)),X("hashchange",W,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(e){t.addEventListener(e,W,!0)})),/d$|^c/.test(t.readyState)?H():(X("load",H),t.addEventListener("DOMContentLoaded",W),Y(H,2e4)),n.elements.length?(R(),me._lsFlush()):W()},checkElems:W,immediatelyCheckElems:R,unveil:q,_aLSL:D=function(){3==s.loadMode&&(s.loadMode=2),k()}}),pe=(U=he((function(e,t,i,n){var s,r,a;if(e._lazysizesWidth=n,n+="px",e.setAttribute("sizes",n),te.test(t.nodeName||""))for(r=0,a=(s=t.getElementsByTagName("source")).length;r<a;r++)s[r].setAttribute("sizes",n);i.detail.dataAttr||de(e,i.detail)})),G=function(e,t,i){var n,s=e.parentNode;s&&(i=fe(e,s,i),(n=ce(e,"lazybeforesizes",{width:i,dataAttr:!!t})).defaultPrevented||(i=n.detail.width)&&i!==e._lazysizesWidth&&U(e,s,n,i))},{_:function(){I=t.getElementsByClassName(s.autosizesClass),X("resize",J)},checkElems:J=ge((function(){var e,t=I.length;if(t)for(e=0;e<t;e++)G(I[e])})),updateElem:G}),ze=function(){!ze.i&&t.getElementsByClassName&&(ze.i=!0,pe._(),ye._())};return Y((function(){s.init&&ze()})),n={cfg:s,autoSizer:pe,loader:ye,init:ze,uP:de,aC:ae,rC:oe,hC:re,fire:ce,gW:fe,rAF:me}}e.r(t);const n="data-src",s="data-srcset",r="lozad",a="data-sizes";"undefined"!=typeof document&&document.documentMode;const o=e=>/\.cloudfront\./.test(e)||/img\.myshopline\.com/.test(e)||/img-.*\.myshopline\.com/.test(e),l=(e,t)=>e.filter(Boolean).join(t);class c{constructor(e){const t=new URL(e,window.location.href),i=t.pathname.split("/"),n=i[i.length-1],[s,r]=n.split("."),[a,...o]=s.split("_");this.uri=t,this.paths=i,this.name=a,this.suffix=r,this.querys=this.uri.searchParams,this.modifiers=o}toString(){return this.uri.pathname=l([...this.paths.slice(0,-1),l([[this.name,...this.modifiers].join("_"),this.suffix],".")],"/"),this.uri.toString()}}function d(e){if(!(e=>/^.+\.gif(\?.*){0,1}$/.test(e))(e)||!o(e))return;const t=new c(e);return"1"===t.querys.get("_f")&&"poster"!==t.modifiers[0]?(t.modifiers.unshift("poster"),t.suffix="png",t):void 0}function u(e){let{src:t,srcset:i}=e;const n={};if(t&&(n.src=d(t)),i){let e=!1;n.srcset=((e,t)=>e.split(",").filter((e=>""!==e)).map((e=>l(t(...e.trim().split(" "))," "))).join(","))(i,((t,i)=>{const n=d(t);return n?(e=!0,[n,i]):[t,i]})),e||delete n.srcset}if(n.src||n.srcset)return n}const f=e=>{const t=e.target;if(((e,t)=>e.nodeName.toLowerCase()===t)(t,"img")){const e=t.getAttribute(n),i=t.getAttribute(s),r=t._lazysizesWidth;let a=!1;const o=function(e){let{src:t,srcset:i}=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Image;return r&&(n.sizes="number"==typeof r?`${r}px`:r),i&&(n.srcset=i),window.__PRELOAD_STATE__.imgNoReferrerSwitch&&n.setAttribute("referrerpolicy","same-origin"),t&&(n.src=t),n},l=()=>{a||(o({src:e,srcset:i},t),a=!0)},c=u({src:e,srcset:i});if(c){const r=o({src:e,srcset:i}),a=o(c);r.onload=l,a.onerror=l,c.src&&t.setAttribute(n,c.src),c.srcset&&t.setAttribute(s,c.srcset)}}},m=[375,540,720,900,1080,1296,1512,1728,1944,2160,2660,2960,3260,3860],h=e=>{const t=e.target,i=t.getAttribute(a),r=t.getAttribute(s),l=t.getAttribute(n);if(i&&!r&&o(l)){const e=((e,t)=>{if(!e)return t;const i=t.findIndex((t=>t>e));return t.slice(0,i+1)})(new c(l).querys.get("w"),m),i=e.map((e=>`${(e=>{let{url:t,width:i}=e;if(!i)return t;if(!o(t))return t;const n=`_${i||""}x`,s=t.split("/"),r=s.pop()||"",a=s.join("/"),l=r.lastIndexOf(".");return-1===l?`${a}/${r}${n}`:`${a}/${r.slice(0,l)}${n}${r.slice(l)}`})({url:l,width:e})} ${e}w`));t.setAttribute(s,i.join(", "))}};return window.lozadObserver={observe:()=>{}},window.lazySizesConfig={lazyClass:r,expFactor:4},document.addEventListener("lazybeforesizes",h),document.addEventListener("lazybeforeunveil",f),window.lazySizes=i(window,document,Date),void 0===window.lazySizes.extraElements&&(window.lazySizes.extraElements=[]),HTMLElement.prototype.__updateLazyExtraElements__=function(){const e=[];return this.shadowRoot&&e.push(...this.shadowRoot.querySelectorAll(`.${r}`)),e.push(...this.querySelectorAll(`.${r}`)),void 0!==window.lazySizes.extraElements&&window.lazySizes.extraElements.push(...e),window.lazySizes.loader.checkElems(),e},HTMLElement.prototype.__removeLazySizesListener__=function(e){window.lazySizes.extraElements.filter((t=>!e.includes(t)))},t})()));