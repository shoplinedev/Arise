"use strict";

(self["webpackChunkArise"] = self["webpackChunkArise"] || []).push([ [ "map" ], {
    "./src/assets/stage/map/index.js": (__unused_webpack_module, __webpack_exports__, __webpack_require__) => {
        __webpack_require__("./node_modules/core-js/modules/es.array.find.js");
        __webpack_require__("./node_modules/core-js/modules/es.array.concat.js");
        __webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");
        var _yy_sl_theme_shared_utils_sectionsLoad__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__("../shared/browser/utils/sectionsLoad/index.js");
        function _classCallCheck(instance, Constructor) {
            if (!(instance instanceof Constructor)) throw new TypeError("Cannot call a class as a function");
        }
        function _defineProperties(target, props) {
            for (var i = 0; i < props.length; i++) {
                var descriptor = props[i];
                descriptor.enumerable = descriptor.enumerable || false;
                descriptor.configurable = true;
                if ("value" in descriptor) descriptor.writable = true;
                Object.defineProperty(target, descriptor.key, descriptor);
            }
        }
        function _createClass(Constructor, protoProps, staticProps) {
            if (protoProps) _defineProperties(Constructor.prototype, protoProps);
            if (staticProps) _defineProperties(Constructor, staticProps);
            return Constructor;
        }
        var selectors = {
            iframe: ".sl-map__iframe"
        };
        var SlMap = function() {
            function SlMap(container) {
                _classCallCheck(this, SlMap);
                this.container = container;
                this.init();
            }
            _createClass(SlMap, [ {
                key: "init",
                value: function() {
                    this.addLocaleChangeHandleTo();
                }
            }, {
                key: "addLocaleChangeHandleTo",
                value: function() {
                    var container = this.container;
                    var _ref = window.SL_State.get("shoplineMap.settings") || {}, google_api_secret_key = _ref.google_api_secret_key, address = _ref.address;
                    window.SL_State.on("request.locale", (function(locale) {
                        container.find(selectors.iframe).attr("src", "https://www.google.com/maps/embed/v1/place?key=".concat(google_api_secret_key, "&q=").concat(encodeURIComponent(address), "&language=").concat(locale));
                    }));
                }
            }, {
                key: "destroy",
                value: function() {}
            } ]);
            return SlMap;
        }();
        var SlMapSection = function() {
            function SlMapSection(container) {
                _classCallCheck(this, SlMapSection);
                if (!container.find(selectors.iframe).length) return;
                this.instance = new SlMap(container);
            }
            _createClass(SlMapSection, [ {
                key: "onUnload",
                value: function() {
                    if (this.instance) this.instance.destroy();
                }
            } ]);
            return SlMapSection;
        }();
        SlMapSection.type = "map";
        (0, _yy_sl_theme_shared_utils_sectionsLoad__WEBPACK_IMPORTED_MODULE_3__.registrySectionConstructor)(SlMapSection.type, SlMapSection);
    }
}, __webpack_require__ => {
    var __webpack_exec__ = moduleId => __webpack_require__(__webpack_require__.s = moduleId);
    __webpack_require__.O(0, [ "vendor" ], (() => __webpack_exec__("./src/assets/stage/map/index.js")));
    __webpack_require__.O();
} ]);