{{ assign 'productImageSizeObj' (JSONparse '{"large": 1704, "medium":1420, "small": 1136}')  }}
{{ assign 'productWidth' (get productImageSize productImageSizeObj) }}
{{ assign 'mediaList' spu.mediaList}}

{{#if (isFalsey showSkuImg)}}
  {{ assign 'mainMediaList' (JSONparse '[]') }}
  {{ assign 'skuMediaList' (JSONparse '[]')}}
  {{#each product.sku.skuList}}
    {{#each imageList}}
      {{array-push ../../skuMediaList this}}
    {{/each}}
  {{/each}}
  {{#each mediaList}}
    {{#if (isFalsey (inArray ../skuMediaList resource)) }}
      {{array-push ../mainMediaList this}}
    {{/if}}
  {{/each}}
  {{ assign 'mediaList' mainMediaList}}
{{/if}}

{{ assign 'coverImgObj' selectSku.imageBeanList.[0]}}

{{ assign 'isVideoFirst' (first mediaList)}}
{{ assign 'isVideoLast' (last mediaList)}}

<input type="hidden" value="{{ productImageScale }}" class="product_productImageScale_{{selectorId}}">
<input type="hidden" value="{{ videoMute }}" class="product_productVideoMute_{{selectorId}}">
<input type="hidden" value="{{ videoLoop }}" class="product_productVideoLoop_{{selectorId}}">
<input type="hidden" value="{{ videoAutoplay }}" class="product_productVideoAutoplay_{{selectorId}}">
<input type="hidden" value="{{ productImageSize }}" class="product_productImageSize_{{selectorId}}">
<input type="hidden" value="{{ showSkuImg }}" class="product_productImageShowSkuImg_{{selectorId}}">
<input type="hidden" value="{{ showSwiperArrow }}" class="product_productImageShowSwiperArrow_{{selectorId}}">

    <input type="hidden" value="{{ productImageShowStyle }}" class="product_productImageShowStyle_{{ selectorId }}">
    <input type="hidden" value="{{ productMobileThumbnailImageHide }}" class="product_productMobileThumbnailImageHide_{{ selectorId }}">

<div data-ssr-product-swiper ></div>

{{ assign 'skuInMediaListIndex' (array_find_index mediaList coverImgObj.url 'resource') }}
{{ assign 'needSkuCover' (boolean coverImgObj '&&' (boolean skuInMediaListIndex '==' -1)) }}
{{ assign 'initialSlide' (cond (boolean needSkuCover '||' (boolean skuInMediaListIndex '==' -1) ) 0 skuInMediaListIndex) }}

<input type="hidden" value="{{ needSkuCover }}" class="product_productImageNeedSkuCover_{{selectorId}}">

{{#if (boolean productImageShowStyle '!=' 'flatten') true }}
<div class="d-none d-md-block">
  <div
    data-initial-slide="{{initialSlide}}"
    data-thumbs-direction="{{ thumbsDirection }}"
    data-show-thumbnail-arrow="{{ showThumbnailArrow }}"
    class="{{ cond (boolean productImageShowStyle '===' 'thumbnail_flatten') 'thumbnail_flatten' '' }} d-none {{ cond (boolean thumbsDirection '==' 'aside') 'd-md-flex' 'd-md-block' }} product_pc_productImageContainer {{ cond (boolean selectorId) (append 'execute_productImages_pc_' selectorId) '' }} {{ cond (boolean productImagePos '==' 'right') 'product_layoutRight' 'product_layoutLeft' }} {{ cond (boolean thumbsDirection '==' 'aside') 'product_layoutColumn' 'product_layoutRow' }}"
  >
    {{#if (and (boolean thumbsDirection '==' 'aside')) }}
      <div class="product_thumbsColumnContainer shopline-element-product-thumbs-image" style="display: {{#or (isFalsey mediaList.length) (boolean mediaList.length '<=' '1') }}none{{/or}};">
        {{#if showThumbnailArrow}}
          <div class="arrowTop thumbsArrowTop">
            <svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M11 6.5L6 1.5L1 6.5" stroke-width="1.5" stroke-linecap="round"/>
</svg>
  
          </div>
        {{/if}}
        <div class="productImageThumbs">
          <div class="productImageThumbsWrapper">
            {{#each mediaList }}
              <div class="swiper-slide thumbsImageItem">
                <figure style="padding-bottom:{{append (default (get 'ratio' (img_size resource)) 100) '%'}}">
                  {{#if type '===' 'VIDEO' }}
                    {{ assign 'resourceUrl' (urlParse resource)}}

{{#if resourceUrl.hostname '===' 'www.youtube.com' }}
    <img style="" onerror="this.onerror=null;this.parentElement.className+=' videoCoverError';" class="lozad" data-src="{{ get 'middle' (getYouTubeCover resource) }}" alt="">
{{else}}
    <img style="" onerror="this.onerror=null;this.parentElement.className+=' videoCoverError';" class="lozad" data-src="{{ cover }}" alt="">
{{/if}}
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="10" cy="10" r="10" fill="black" fill-opacity="0.6"/>
<path d="M13.6256 10.2496L8.46641 13.6891C8.26704 13.822 8 13.6791 8 13.4394V6.56056C8 6.32095 8.26704 6.17803 8.46641 6.31094L13.6256 9.75039C13.8037 9.86913 13.8037 10.1309 13.6256 10.2496Z" fill="white"/>
</svg>


                  {{else if type '===' 'IMAGE'}}
                    {{ snippet 'product/detail/product-swiper-img' type='pcThumbImage' class='lozad' }}
                  {{/if}}
                </figure>
              </div>
            {{/each}}
          </div>
        </div>
        {{#if showThumbnailArrow}}
          <div class="arrowBottom thumbsArrowBottom">
            <svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M11 6.5L6 1.5L1 6.5" stroke-width="1.5" stroke-linecap="round"/>
</svg>
  
          </div>
        {{/if}}
      </div>
    {{/if}}
    <div class="swiper-container product_productImages shopline-element-product-image {{ cond (boolean productImageScale) 'product_productImageScale' ''}}">
      {{#if mediaList.length }}
        <div class="swiper-wrapper">
          {{#each mediaList }}
            {{#if type '===' 'VIDEO' }}
              {{assign 'isYoutube' (boolean (get 'hostname' (urlParse resource)) '==' 'www.youtube.com') }}
{{assign 'videoCoverRatio' (cond isYoutube '56.25%' (append (default (get 'ratio' (img_size cover)) '56.25') '%'))}}

              <div class="swiper-slide firstInit videoItem {{#if @index '==' ../initialSlide}}initial-slide{{/if}}" data-video-platform="{{ cond isYoutube 'youtube' 'sl' }}" style="padding-bottom:{{#and ../needSkuCover (boolean @index '==' 0 )}}{{append (default (get 'ratio' (img_size ../coverImgObj.url)) 100) '%'}}{{else}}{{videoCoverRatio}}{{/and}}">
                {{#if isYoutube}}
                  <div class="product_youTubeVideoContainer">
                    <div class="product_youTubeVideoBox" data-video-id="{{ get 'videoId' (getYouTubeCover resource) }}"></div>
                  </div>
                {{else}}
                  <video class="product_slVideoContainer" disablepictureinpicture controls webkit-playsinline playsinline controlslist="nodownload nofullscreen" poster="{{ cover }}">
                    <source src="{{resource}}" type="video/mp4">
                  </video>
                {{/if}}
                {{#if ../needSkuCover}}
                  {{#if @index '==' ../initialSlide }}
                    {{ assign 'resourceUrl' (urlParse resource)}}

{{#if resourceUrl.hostname '===' 'www.youtube.com' }}
    <img style="" class="product_photoSwipe_image lozad" data-photoswipe-src="{{ get 'middle' (getYouTubeCover resource) }}" data-src="{{ get 'middle' (getYouTubeCover resource) }}" alt="">
{{else}}
    <img style="" class="product_photoSwipe_image lozad" data-photoswipe-src="{{ img_url cover width=1800 }}" data-src="{{ cover }}" alt="">
{{/if}}

                  {{else}}
                    {{ assign 'resourceUrl' (urlParse resource)}}

{{#if resourceUrl.hostname '===' 'www.youtube.com' }}
    <img style="" class="product_photoSwipe_image swiper-lazy" data-photoswipe-src="{{ get 'middle' (getYouTubeCover resource) }}" data-src="{{ get 'middle' (getYouTubeCover resource) }}" alt="">
{{else}}
    <img style="" class="product_photoSwipe_image swiper-lazy" data-photoswipe-src="{{ img_url cover width=1800 }}" data-src="{{ cover }}" alt="">
{{/if}}

                  {{/if}}
                {{else}}
                  {{ assign 'resourceUrl' (urlParse resource)}}

{{#if resourceUrl.hostname '===' 'www.youtube.com' }}
    <img style="" class="product_photoSwipe_image swiper-lazy" data-photoswipe-src="{{ get 'middle' (getYouTubeCover resource) }}" data-src="{{ get 'middle' (getYouTubeCover resource) }}" alt="">
{{else}}
    <img style="" class="product_photoSwipe_image swiper-lazy" data-photoswipe-src="{{ img_url cover width=1800 }}" data-src="{{ cover }}" alt="">
{{/if}}

                {{/if}}
              </div>
            {{else if type '===' 'IMAGE'}}
              <div class="swiper-slide firstInit imageItem {{#if @index '==' ../initialSlide}}initial-slide{{/if}}" data-bottom="height:0;padding-bottom:{{#and ../needSkuCover (boolean @index '==' 0 )}}{{append (default (get 'ratio' (img_size ../coverImgObj.url)) 100) '%'}}{{else}}{{ append (default (get 'ratio' (img_size resource)) 100) '%'}}{{/and}}" style="transform: translate3d(calc(-100% * {{@index}}), 0px, 0px);height:0;padding-bottom:{{#and ../needSkuCover (boolean @index '==' 0 )}}{{append (default (get 'ratio' (img_size ../coverImgObj.url)) 100) '%'}}{{else}}{{ append (default (get 'ratio' (img_size resource)) 100) '%'}}{{/and}}">
                {{#if @index '==' ../initialSlide }}
                  {{#if ../templateAlias '===' 'ProductsDetail'}}
                    {{ snippet 'product/detail/product-swiper-img' type='pcImage' class='lozad product_photoSwipe_image' useLazyLoad=false }}
                  {{else}}
                    {{ snippet 'product/detail/product-swiper-img' type='pcImage' class='lozad product_photoSwipe_image' }}
                  {{/if}}
                {{else}}
                  {{ snippet 'product/detail/product-swiper-img' type='pcImage' class='swiper-lazy product_photoSwipe_image' }}
                {{/if}}
              </div>
            {{/if}}
          {{/each}}
        </div>
        {{#if showSwiperArrow}}
          <div class="product-photo-swiper-button product-photo-swiper-button-prev swiper-button-prev_pc_{{selectorId}}">
  <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M8 1L3 6L8 11" stroke-width="1.5" stroke-linecap="round"/>
  </svg>  
</div>
<div class="product-photo-swiper-button product-photo-swiper-button-next swiper-button-next_pc_{{selectorId}}">
  <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M4 11L9 6L4 1" stroke-width="1.5" stroke-linecap="round"/>
  </svg>
</div>
        {{/if}}
      {{else}}
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <div class="product-detail-empty-image" style="padding-bottom:{{#if needSkuCover }}{{append (default (get 'ratio' (img_size coverImgObj.url)) 100) '%'}}{{else}}100%{{/if}}"></div>
          </div>
        </div>
        {{#if showSwiperArrow}}
          <div class="product-photo-swiper-button product-photo-swiper-button-prev swiper-button-prev_pc_{{selectorId}}">
  <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M8 1L3 6L8 11" stroke-width="1.5" stroke-linecap="round"/>
  </svg>  
</div>
<div class="product-photo-swiper-button product-photo-swiper-button-next swiper-button-next_pc_{{selectorId}}">
  <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M4 11L9 6L4 1" stroke-width="1.5" stroke-linecap="round"/>
  </svg>
</div>
        {{/if}}
      {{/if}}
      {{#if needSkuCover }}
        <div class="product_pc_skuImage" style="display: block">
          {{ snippet 'product/detail/product-swiper-img' type='pcSkuImage' class='lozad product_photoSwipe_image' isPreload=true useLazyLoad=false }}
        </div>
      {{else}}
        <div class="product_pc_skuImage" ></div>
      {{/if}}
    </div>
    {{#if (and (boolean thumbsDirection '!=' 'aside')) }}
      <div class="product_thumbsRowContainer shopline-element-product-thumbs-image" style="display: {{#or (isFalsey mediaList.length) (boolean mediaList.length '<=' '1') }}none{{/or}};">
        {{#if showThumbnailArrow}}
          <div class="arrowTopBox thumbsArrowTop">
            <div class="arrowTop">
              <svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M11 6.5L6 1.5L1 6.5" stroke-width="1.5" stroke-linecap="round"/>
</svg>
  
            </div>
          </div>
        {{/if}}
        <div class="productImageThumbs">
          <div class="swiper-wrapper productImageThumbsWrapper">
            {{#each mediaList }}
              <div class="swiper-slide thumbsImageItem">
                <figure style="padding-bottom:{{append (default (get 'ratio' (img_size resource)) 100) '%'}}">
                  {{#if type '===' 'VIDEO' }}
                    {{ assign 'resourceUrl' (urlParse resource)}}

{{#if resourceUrl.hostname '===' 'www.youtube.com' }}
    <img style="" onerror="this.onerror=null;this.parentElement.className+=' videoCoverError';" class="lozad" data-src="{{ get 'middle' (getYouTubeCover resource) }}" alt="">
{{else}}
    <img style="" onerror="this.onerror=null;this.parentElement.className+=' videoCoverError';" class="lozad" data-src="{{ cover }}" alt="">
{{/if}}
<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="10" cy="10" r="10" fill="black" fill-opacity="0.6"/>
<path d="M13.6256 10.2496L8.46641 13.6891C8.26704 13.822 8 13.6791 8 13.4394V6.56056C8 6.32095 8.26704 6.17803 8.46641 6.31094L13.6256 9.75039C13.8037 9.86913 13.8037 10.1309 13.6256 10.2496Z" fill="white"/>
</svg>


                  {{else if type '===' 'IMAGE'}}
                  {{ snippet 'product/detail/product-swiper-img' type='pcThumbImage' class='lozad' }}
                  {{/if}}
                </figure>
              </div>
            {{/each}}
          </div>
        </div>
        {{#if showThumbnailArrow}}
          <div class="arrowBottomBox thumbsArrowBottom">
            <div class="arrowBottom">
              <svg width="12" height="8" viewBox="0 0 12 8" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M11 6.5L6 1.5L1 6.5" stroke-width="1.5" stroke-linecap="round"/>
</svg>
  
            </div>
          </div>
        {{/if}}
      </div>
    {{/if}}
  </div>
</div>
{{else}}
      {{#if mediaList.length}}
      {{ assign 'firstItem' (first mediaList) }}
      {{ assign 'exceptFirstMediaList' (after mediaList 1) }}
      <div class="product_productImages_tile shopline-element-product-image {{ cond (boolean selectorId) (append 'execute_productImages_pc_' selectorId) '' }} {{ cond (boolean productImageScale) 'product_productImageScale' '' }}">
        <div class="row row-cols-md-1 gx-md-4 flattenFirstItem">
          <div class="flattenFirstItemWrapper">
            <div class="normalItem" style="display: {{ cond coverImgObj.url 'none' 'block' }}">
              {{#if firstItem.type '==' 'VIDEO'}}
                {{ assign 'isYoutube' (boolean (get 'hostname' (urlParse firstItem.resource)) '==' 'www.youtube.com') }}
                {{ assign 'videoCoverRatio' (cond isYoutube '56.25%' (append (default (get 'ratio' (img_size firstItem.cover)) '56.25') '%')) }}
                <div class="videoItem" data-index="0" style="padding-bottom: {{ videoCoverRatio }}">
                  {{#if isYoutube}}
                    <div class="product_youTubeVideoBox" data-video-id="{{ get 'videoId' (getYouTubeCover firstItem.resource) }}"></div>
                    <img referrerpolicy="{{#if imgNoReferrerSwitch}}same-origin{{/if}}"  class="lozad product_photoSwipe_image" data-photoswipe-src="{{ get 'middle' (getYouTubeCover firstItem.resource) }}" data-src="{{ get 'middle' (getYouTubeCover firstItem.resource) }}" alt="">
                  {{else}}
                    <video class="product_slVideoContainer" disablepictureinpicture controls webkit-playsinline playsinline controlslist="nodownload nofullscreen" poster="{{ firstItem.cover }}">
                      <source src="{{ firstItem.resource }}" type="video/mp4">
                    </video>
                    <img referrerpolicy="{{#if imgNoReferrerSwitch}}same-origin{{/if}}"  class="lozad product_photoSwipe_image" data-photoswipe-src="{{ img_url firstItem.cover width=1800 }}" data-src="{{ firstItem.cover }}" alt="">
                  {{/if}}
                </div>
              {{else}}
                <div class="imageItem" style="padding-bottom: {{ append (default (get 'ratio' (img_size firstItem.resource)) 100) '%' }}" data-index="0">
                  <img referrerpolicy="{{#if imgNoReferrerSwitch}}same-origin{{/if}}"   onerror="this.onerror=null;this.parentElement.className+=' imageItemError';" data-src="{{ firstItem.resource }}" data-sizes="auto" class="lozad product_photoSwipe_image" data-photoswipe-src="{{ img_url firstItem.resource width=1800 }}" alt="{{ firstItem.alt }}">
                </div>
              {{/if}}
            </div>
            <div class="product_pc_skuImage_flatten" style="display: {{ cond coverImgObj.url 'block' 'none' }}; padding-bottom: {{ cond coverImgObj.url (append (default (get 'ratio' (img_size coverImgObj.url)) 100) '%') 0 }}">
              {{#if coverImgObj.url}}
                <img referrerpolicy="{{#if imgNoReferrerSwitch}}same-origin{{/if}}"  onerror="this.onerror=null;this.parentElement.className+=' imageItemError';" data-src="{{ coverImgObj.url }}" data-sizes="auto" class="lozad product_photoSwipe_image" data-photoswipe-src="{{ img_url coverImgObj.url width=1800 }}" alt="{{ coverImgObj.alt }}" >
              {{/if}}
            </div>
          </div>
        </div>
        <div class="exceptFirstMediaList row row-cols-md-2 gx-md-4">
          <div class="product_images_firstCol">
            {{#each exceptFirstMediaList}}
              {{#ifEven @index}}
                {{#if this.type '==' 'VIDEO'}}
                  {{assign 'isYoutube' (boolean (get 'hostname' (urlParse resource)) '==' 'www.youtube.com') }}
{{assign 'videoCoverRatio' (cond isYoutube '56.25%' (append (default (get 'ratio' (img_size cover)) '56.25') '%'))}}

                  <div class="videoItem" data-index="{{ add @index 1 }}" style="padding-bottom: {{ videoCoverRatio }}">
                    {{#if isYoutube}}
                      <div class="product_youTubeVideoBox" data-video-id="{{ get 'videoId' (getYouTubeCover this.resource) }}"></div>
                      <img referrerpolicy="{{#if imgNoReferrerSwitch}}same-origin{{/if}}"  class="lozad product_photoSwipe_image" data-photoswipe-src="{{ get 'middle' (getYouTubeCover this.resource) }}" data-src="{{ get 'middle' (getYouTubeCover this.resource) }}" alt="">
                    {{else}}
                      <video class="product_slVideoContainer" disablepictureinpicture controls webkit-playsinline playsinline controlslist="nodownload nofullscreen" poster="{{ this.cover }}">
                        <source src="{{ this.resource }}" type="video/mp4">
                      </video>
                      <img referrerpolicy="{{#if imgNoReferrerSwitch}}same-origin{{/if}}"  class="lozad product_photoSwipe_image" data-photoswipe-src="{{ img_url this.cover width=1800 }}" data-src="{{ this.cover }}" alt="">
                    {{/if}}
                  </div>
                {{else}}
                  {{ snippet 'product/detail/product-swiper-img' type='pcTwoColImage' index=(add @index 1) }}
                {{/if}}
              {{/ifEven}}
            {{/each}}
          </div>
          <div class="product_images_secondCol">
            {{#each exceptFirstMediaList}}
              {{#ifOdd @index}}
                {{#if this.type '==' 'VIDEO'}}
                  {{assign 'isYoutube' (boolean (get 'hostname' (urlParse resource)) '==' 'www.youtube.com') }}
{{assign 'videoCoverRatio' (cond isYoutube '56.25%' (append (default (get 'ratio' (img_size cover)) '56.25') '%'))}}

                  <div class="videoItem" data-index="{{ add @index 1 }}" style="padding-bottom: {{ videoCoverRatio }}">
                    {{#if isYoutube}}
                      <div class="product_youTubeVideoBox" data-video-id="{{ get 'videoId' (getYouTubeCover this.resource) }}"></div>
                      <img referrerpolicy="{{#if imgNoReferrerSwitch}}same-origin{{/if}}"  class="lozad product_photoSwipe_image" data-photoswipe-src="{{ get 'middle' (getYouTubeCover this.resource) }}" data-src="{{ get 'middle' (getYouTubeCover this.resource) }}" alt="">
                    {{else}}
                      <video class="product_slVideoContainer" disablepictureinpicture controls webkit-playsinline playsinline controlslist="nodownload nofullscreen" poster="{{ this.cover }}">
                        <source src="{{ this.resource }}" type="video/mp4">
                      </video>
                      <img referrerpolicy="{{#if imgNoReferrerSwitch}}same-origin{{/if}}"  class="lozad product_photoSwipe_image" data-photoswipe-src="{{ img_url this.cover width=1800 }}" data-src="{{ this.cover }}" alt="">
                    {{/if}}
                  </div>
                {{else}}
                  {{ snippet 'product/detail/product-swiper-img' type='pcTwoColImage' index=(add @index 1) }}
                {{/if}}
              {{/ifOdd}}
            {{/each}}
          </div>
        </div>
      </div>
    {{else}}
      <div class="product_productImages_tile shopline-element-product-image product-detail-empty-image {{ cond (boolean selectorId) (append 'execute_productImages_pc_' selectorId) '' }} {{ cond (boolean productImageScale) 'product_productImageScale' '' }}" style="padding-bottom: {{ cond coverImgObj.url (append (default (get 'ratio' (img_size coverImgObj.url)) 100) '%') '100%' }}">
        <div class="product_pc_skuImage_flatten" style="width: 100%; position:absolute; display: {{ cond coverImgObj.url 'block' 'none' }}; padding-bottom: {{ cond coverImgObj.url (append (default (get 'ratio' (img_size coverImgObj.url)) 100) '%') 0 }}">
          {{#if coverImgObj.url}}
            <img referrerpolicy="{{#if imgNoReferrerSwitch}}same-origin{{/if}}"  onerror="this.onerror=null;this.parentElement.className+=' imageItemError';" data-src="{{ coverImgObj.url }}" data-sizes="auto" class="lozad product_photoSwipe_image" data-photoswipe-src="{{ img_url coverImgObj.url width=1800 }}" alt="{{ coverImgObj.alt }}">
          {{/if}}
        </div>
      </div>
    {{/if}}

{{/if}}

<div class="d-md-none">
  <div
    data-initial-slide="{{initialSlide}}"
    class="hideBulletsPagination d-md-none product_mobile_productImageContainer {{ cond (boolean selectorId) (append 'execute_productImages_mobile_' selectorId) '' }} {{#isFalsey mobileProductImageIsFull }}middleWidth{{/isFalsey}}"
  >
    <div class="swiper-container product_productImages shopline-element-product-image">
      {{#if mediaList.length }}
        <div class="swiper-wrapper {{#or (boolean mediaList.length '===' 1) (boolean isVideoFirst.type '===' 'VIDEO') (boolean isVideoLast.type '===' 'VIDEO')}}hasVideoFl{{/or}}">
          {{#each mediaList }}
            {{#if type '===' 'VIDEO' }}
              {{assign 'isYoutube' (boolean (get 'hostname' (urlParse resource)) '==' 'www.youtube.com') }}
{{assign 'videoCoverRatio' (cond isYoutube '56.25%' (append (default (get 'ratio' (img_size cover)) '56.25') '%'))}}

              <div class="swiper-slide videoItem" data-video-platform="{{ cond isYoutube 'youtube' 'sl' }}" data-index="{{ @index }}" data-length="{{ ../mediaList.length }}">
                <div
                  class="swiper-slide-box"
                  data-image-ratio="{{ videoCoverRatio }}"
                  style="padding-bottom: {{#and ../needSkuCover (boolean @index '==' 0 )}}{{append (default (get 'ratio' (img_size ../coverImgObj.url)) 100) '%'}}{{else}}{{videoCoverRatio}}{{/and}}"
                  data-sku-image-ratio="{{#and ../needSkuCover (boolean @index '==' 0 )}}{{ append (default (get 'ratio' (img_size ../coverImgObj.url)) 100) '%'}}{{/and}}"
                >
                  {{#if isYoutube}}
                    <div class="product_youTubeVideoContainer">
                      <div class="product_youTubeVideoBox" data-video-id="{{ get 'videoId' (getYouTubeCover resource) }}"></div>
                    </div>
                    {{ assign 'resourceUrl' (urlParse resource)}}

{{#if resourceUrl.hostname '===' 'www.youtube.com' }}
    <img style="" class="lozad product_photoSwipe_image" data-photoswipe-src="{{ get 'middle' (getYouTubeCover resource) }}" data-src="{{ get 'middle' (getYouTubeCover resource) }}" alt="">
{{else}}
    <img style="" class="lozad product_photoSwipe_image" data-photoswipe-src="{{ img_url cover width=1800 }}" data-src="{{ cover }}" alt="">
{{/if}}

                  {{else}}
                    <video class="product_slVideoContainer" disablepictureinpicture controls webkit-playsinline playsinline controlslist="nodownload nofullscreen" poster="{{ cover }}">
                      <source src="{{resource}}" type="video/mp4">
                    </video>
                    {{ assign 'resourceUrl' (urlParse resource)}}

{{#if resourceUrl.hostname '===' 'www.youtube.com' }}
    <img style="" class="lozad product_photoSwipe_image" data-photoswipe-src="{{ get 'middle' (getYouTubeCover resource) }}" data-src="{{ get 'middle' (getYouTubeCover resource) }}" alt="">
{{else}}
    <img style="" class="lozad product_photoSwipe_image" data-photoswipe-src="{{ img_url cover width=1800 }}" data-src="{{ cover }}" alt="">
{{/if}}

                  {{/if}}
                  {{#and ../needSkuCover (boolean @index '==' 0) }}
                    <div class="product_m_skuImageBox">
                      {{#if (boolean ../templateAlias '===' 'ProductsDetail')}}
                        {{ snippet 'product/detail/product-swiper-img' type='mSkuImage' isPreload=true useLazyLoad=false class='product_m_skuImage product_photoSwipe_image' skuImageObj=../coverImgObj }}
                      {{else}}
                        {{ snippet 'product/detail/product-swiper-img' type='mSkuImage' class='lozad product_m_skuImage product_photoSwipe_image' skuImageObj=../coverImgObj }}
                      {{/if}}
                      {{#if ../productImageScale }}
                        <div class="scaleSkuImageIcon">
                          <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="13" cy="12" r="7.5" />
<path d="M18.5 17.5L23 22.5" stroke-linecap="round" />
</svg>

                        </div>
                      {{/if}}
                    </div>
                  {{/and}}
                  {{#if ../productImageScale }}
                    <div class="scaleImageIcon">
                      <div class="scaleImageIconSvg">
                        <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="13" cy="12" r="7.5" />
<path d="M18.5 17.5L23 22.5" stroke-linecap="round" />
</svg>

                      </div>
                    </div>
                  {{/if}}
                </div>
              </div>
            {{else if type '===' 'IMAGE'}}
              <div class="swiper-slide imageItem">
                <div
                  class="swiper-slide-box"
                  data-image-ratio="{{ append (default (get 'ratio' (img_size resource)) 100) '%'}}"
                  data-sku-image-ratio="{{#and ../needSkuCover (boolean @index '==' 0 )}}{{ append (default (get 'ratio' (img_size ../coverImgObj.url)) 100) '%'}}{{/and}}"
                  style="padding-bottom: {{#and ../needSkuCover (boolean @index '==' 0 )}}{{ append (default (get 'ratio' (img_size ../coverImgObj.url)) 100) '%'}}{{else}}{{ append (default (get 'ratio' (img_size resource)) 100) '%'}}{{/and}}"
                >
                {{#if (boolean ../templateAlias '===' 'ProductsDetail')}}
                  {{ snippet 'product/detail/product-swiper-img' isPreload=true useLazyLoad=(cond (boolean @index '==' ../initialSlide ) false true) type='mImage' class=(cond (boolean @index "!==" ../initialSlide) 'product_photoSwipe_image' 'lozad product_photoSwipe_image') }}
                {{else}}
                  {{ snippet 'product/detail/product-swiper-img' type='mImage' class='lozad product_photoSwipe_image' }}
                {{/if}}
                  {{#and ../needSkuCover (boolean @index '==' 0 )}}
                    <div class="product_m_skuImageBox">
                      {{#if (boolean ../templateAlias '===' 'ProductsDetail')}}
                        {{ snippet 'product/detail/product-swiper-img' type='mSkuImage' isPreload=true useLazyLoad=false class='product_m_skuImage product_photoSwipe_image' skuImageObj=../coverImgObj }}
                      {{else}}
                        {{ snippet 'product/detail/product-swiper-img' type='mSkuImage' class='lozad product_m_skuImage product_photoSwipe_image' skuImageObj=../coverImgObj }}
                      {{/if}}
                      {{#if ../productImageScale }}
                        <div class="scaleSkuImageIcon">
                          <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="13" cy="12" r="7.5" />
<path d="M18.5 17.5L23 22.5" stroke-linecap="round" />
</svg>

                        </div>
                      {{/if}}
                    </div>
                  {{/and}}
                  {{#if ../productImageScale }}
                    <div class="scaleImageIcon">
                      <div class="scaleImageIconSvg">
                        <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="13" cy="12" r="7.5" />
<path d="M18.5 17.5L23 22.5" stroke-linecap="round" />
</svg>

                      </div>
                    </div>
                  {{/if}}
                </div>
              </div>
            {{/if}}
          {{/each}}
        </div>
      {{else}}
        <div class="swiper-wrapper hasVideoFl">
          <div class="swiper-slide">
            <div
              class="swiper-slide-box"
              data-image-ratio="100%"
              style="padding-bottom: {{#if needSkuCover }}{{ append (default (get 'ratio' (img_size coverImgObj.url)) 100) '%'}}{{else}}100%{{/if}}"
            >
              <div class="product-detail-empty-image product-noImages"></div>
              {{#if needSkuCover }}
                <div class="product_m_skuImageBox">
                  {{#if (boolean ../templateAlias '===' 'ProductsDetail')}}
                    {{ snippet 'product/detail/product-swiper-img' type='mSkuImage' isPreload=true useLazyLoad=false class='product_m_skuImage product_photoSwipe_image' skuImageObj=coverImgObj }}
                  {{else}}
                    {{ snippet 'product/detail/product-swiper-img' type='mSkuImage' class='lozad product_m_skuImage product_photoSwipe_image' skuImageObj=coverImgObj }}
                  {{/if}}
                  <!-- <img onerror="this.onerror=null;this.parentElement.className+=' imageItemError';" class="lozad product_m_skuImage product_photoSwipe_image" data-photoswipe-src="{{ img_url coverImgObj.url width=1800 }}" {{{get 'responsiveAttr' (image_responsive resource pcSize=null mSize=(cond ../mobileProductImageIsFull '100vw' '75vw')) }}} alt="{{ coverImgObj.alt }}"> -->
                  {{#if productImageScale }}
                    <div class="scaleSkuImageIcon">
                      <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="13" cy="12" r="7.5" />
<path d="M18.5 17.5L23 22.5" stroke-linecap="round" />
</svg>

                    </div>
                  {{/if}}
                </div>
              {{/if}}
            </div>
          </div>
        </div>
      {{/if}}
    </div>
    <div class="paginationBox" style="{{#or (isFalsey mediaList.length) (boolean mediaList.length '<=' '1') }}display: none;{{/or}}">
      <div class="paginationList" >
        <div class="paginationListWrapper">
          {{#each mediaList }}
            <span></span>
          {{/each}}
        </div>
      </div>
    </div>
        {{#if productMobileThumbnailImageHide '==' 'hide'}}
    <div class="product_mobile_thumbnail_pagination" style="display: {{#or (isFalsey mediaList.length) (boolean mediaList.length '<=' '1')}}none{{/or}};">
      <div class="normal-thumbnail-button normal-thumbnail-button-prev disabled">{{ snippet 'icons/icon_arrow_thumbnail' }}</div>
      <div class="pagination-content" data-total="{{ mediaList.length }}">1/{{ mediaList.length }}</div>
      <div class="normal-thumbnail-button normal-thumbnail-button-next">{{ snippet 'icons/icon_arrow_thumbnail' }}</div>
    </div>
    {{else}}
    <div class="product_mobile_thumbnail_container" style="display: {{#or (isFalsey mediaList.length) (boolean mediaList.length '<=' '1')}}none{{/or}};">
      <div style="visibility: {{ cond (boolean mediaList.length '>' '3') 'visible' 'hidden' }}" class="thumbnail_button_prev_{{ selectorId }} thumbnail-button-prev thumbnail-button">{{ snippet 'icons/icon_arrow_thumbnail' }}</div>
      <div class="swiper-container">
        <div class="swiper-wrapper">
          {{#each mediaList}}
            <div class="swiper-slide" {{{ this.shopline_attributes }}}>
              {{#if this.type '==' 'VIDEO'}}
                {{assign 'isYoutube' (boolean (get 'hostname' (urlParse resource)) '==' 'www.youtube.com') }}
{{assign 'videoCoverRatio' (cond isYoutube '56.25%' (append (default (get 'ratio' (img_size cover)) '56.25') '%'))}}

                <div class="swiper-slide-item" style="padding-bottom:{{ videoCoverRatio }}">
                  {{#if isYoutube}}
                    <img referrerpolicy="{{#if imgNoReferrerSwitch}}same-origin{{/if}}"  class="lozad" onerror="this.onerror=null;this.parentElement.className+=' imageItemError';" data-sizes="auto" data-src="{{ get 'middle' (getYouTubeCover this.resource) }}" alt="">
                  {{else}}
                    <img referrerpolicy="{{#if imgNoReferrerSwitch}}same-origin{{/if}}"  class="lozad" onerror="this.onerror=null;this.parentElement.className+=' imageItemError';" data-sizes="auto" data-src="{{ this.cover }}" alt="">
                  {{/if}}
                </div>
              {{else}}
                <div class="swiper-slide-item" style="padding-bottom:{{ append (default (get 'ratio' (img_size this.resource)) 100) '%' }}">
                  <img referrerpolicy="{{#if imgNoReferrerSwitch}}same-origin{{/if}}"  class="lozad" onerror="this.onerror=null;this.parentElement.className+=' imageItemError';" data-sizes="auto" data-src="{{ this.resource }}" alt="{{ this.alt }}">
                </div>
              {{/if}}
            </div>
          {{/each}}
        </div>
      </div>
      <div style="visibility: {{ cond (boolean mediaList.length '>' '3') 'visible' 'hidden' }}" class="thumbnail_button_next_{{ selectorId }} thumbnail-button-next thumbnail-button">{{ snippet 'icons/icon_arrow_thumbnail' }}</div>
    </div>
    {{/if}}

  </div>
</div>
